{"version":3,"file":"init_inline_galleries.bundle.js","mappings":"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","sources":["webpack:///./node_modules/lightgallery/lightgallery.es5.js","webpack:///./node_modules/lightgallery/plugins/autoplay/lg-autoplay.es5.js","webpack:///./node_modules/lightgallery/plugins/thumbnail/lg-thumbnail.es5.js","webpack:///./assets/js/init-inline-galleries.mjs"],"sourcesContent":["/*!\n * lightgallery | 2.8.2 | November 28th 2024\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n    autoplay: 'lgAutoplay',\r\n    autoplayStart: 'lgAutoplayStart',\r\n    autoplayStop: 'lgAutoplayStop',\r\n};\n\nvar lightGalleryCoreSettings = {\r\n    mode: 'lg-slide',\r\n    easing: 'ease',\r\n    speed: 400,\r\n    licenseKey: '0000-0000-000-0000',\r\n    height: '100%',\r\n    width: '100%',\r\n    addClass: '',\r\n    startClass: 'lg-start-zoom',\r\n    backdropDuration: 300,\r\n    container: '',\r\n    startAnimationDuration: 400,\r\n    zoomFromOrigin: true,\r\n    hideBarsDelay: 0,\r\n    showBarsAfter: 10000,\r\n    slideDelay: 0,\r\n    supportLegacyBrowser: true,\r\n    allowMediaOverlap: false,\r\n    videoMaxSize: '1280-720',\r\n    loadYouTubePoster: true,\r\n    defaultCaptionHeight: 0,\r\n    ariaLabelledby: '',\r\n    ariaDescribedby: '',\r\n    resetScrollPosition: true,\r\n    hideScrollbar: false,\r\n    closable: true,\r\n    swipeToClose: true,\r\n    closeOnTap: true,\r\n    showCloseIcon: true,\r\n    showMaximizeIcon: false,\r\n    loop: true,\r\n    escKey: true,\r\n    keyPress: true,\r\n    trapFocus: true,\r\n    controls: true,\r\n    slideEndAnimation: true,\r\n    hideControlOnEnd: false,\r\n    mousewheel: false,\r\n    getCaptionFromTitleOrAlt: true,\r\n    appendSubHtmlTo: '.lg-sub-html',\r\n    subHtmlSelectorRelative: false,\r\n    preload: 2,\r\n    numberOfSlideItemsInDom: 10,\r\n    selector: '',\r\n    selectWithin: '',\r\n    nextHtml: '',\r\n    prevHtml: '',\r\n    index: 0,\r\n    iframeWidth: '100%',\r\n    iframeHeight: '100%',\r\n    iframeMaxWidth: '100%',\r\n    iframeMaxHeight: '100%',\r\n    download: true,\r\n    counter: true,\r\n    appendCounterTo: '.lg-toolbar',\r\n    swipeThreshold: 50,\r\n    enableSwipe: true,\r\n    enableDrag: true,\r\n    dynamic: false,\r\n    dynamicEl: [],\r\n    extraProps: [],\r\n    exThumbImage: '',\r\n    isMobile: undefined,\r\n    mobileSettings: {\r\n        controls: false,\r\n        showCloseIcon: false,\r\n        download: false,\r\n    },\r\n    plugins: [],\r\n    strings: {\r\n        closeGallery: 'Close gallery',\r\n        toggleMaximize: 'Toggle maximize',\r\n        previousSlide: 'Previous slide',\r\n        nextSlide: 'Next slide',\r\n        download: 'Download',\r\n        playVideo: 'Play video',\r\n        mediaLoadingFailed: 'Oops... Failed to load content...',\r\n    },\r\n};\n\nfunction initLgPolyfills() {\r\n    (function () {\r\n        if (typeof window.CustomEvent === 'function')\r\n            return false;\r\n        function CustomEvent(event, params) {\r\n            params = params || {\r\n                bubbles: false,\r\n                cancelable: false,\r\n                detail: null,\r\n            };\r\n            var evt = document.createEvent('CustomEvent');\r\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n            return evt;\r\n        }\r\n        window.CustomEvent = CustomEvent;\r\n    })();\r\n    (function () {\r\n        if (!Element.prototype.matches) {\r\n            Element.prototype.matches =\r\n                Element.prototype.msMatchesSelector ||\r\n                    Element.prototype.webkitMatchesSelector;\r\n        }\r\n    })();\r\n}\r\nvar lgQuery = /** @class */ (function () {\r\n    function lgQuery(selector) {\r\n        this.cssVenderPrefixes = [\r\n            'TransitionDuration',\r\n            'TransitionTimingFunction',\r\n            'Transform',\r\n            'Transition',\r\n        ];\r\n        this.selector = this._getSelector(selector);\r\n        this.firstElement = this._getFirstEl();\r\n        return this;\r\n    }\r\n    lgQuery.generateUUID = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    lgQuery.prototype._getSelector = function (selector, context) {\r\n        if (context === void 0) { context = document; }\r\n        if (typeof selector !== 'string') {\r\n            return selector;\r\n        }\r\n        context = context || document;\r\n        var fl = selector.substring(0, 1);\r\n        if (fl === '#') {\r\n            return context.querySelector(selector);\r\n        }\r\n        else {\r\n            return context.querySelectorAll(selector);\r\n        }\r\n    };\r\n    lgQuery.prototype._each = function (func) {\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        if (this.selector.length !== undefined) {\r\n            [].forEach.call(this.selector, func);\r\n        }\r\n        else {\r\n            func(this.selector, 0);\r\n        }\r\n        return this;\r\n    };\r\n    lgQuery.prototype._setCssVendorPrefix = function (el, cssProperty, value) {\r\n        // prettier-ignore\r\n        var property = cssProperty.replace(/-([a-z])/gi, function (s, group1) {\r\n            return group1.toUpperCase();\r\n        });\r\n        if (this.cssVenderPrefixes.indexOf(property) !== -1) {\r\n            el.style[property.charAt(0).toLowerCase() + property.slice(1)] = value;\r\n            el.style['webkit' + property] = value;\r\n            el.style['moz' + property] = value;\r\n            el.style['ms' + property] = value;\r\n            el.style['o' + property] = value;\r\n        }\r\n        else {\r\n            el.style[property] = value;\r\n        }\r\n    };\r\n    lgQuery.prototype._getFirstEl = function () {\r\n        if (this.selector && this.selector.length !== undefined) {\r\n            return this.selector[0];\r\n        }\r\n        else {\r\n            return this.selector;\r\n        }\r\n    };\r\n    lgQuery.prototype.isEventMatched = function (event, eventName) {\r\n        var eventNamespace = eventName.split('.');\r\n        return event\r\n            .split('.')\r\n            .filter(function (e) { return e; })\r\n            .every(function (e) {\r\n            return eventNamespace.indexOf(e) !== -1;\r\n        });\r\n    };\r\n    lgQuery.prototype.attr = function (attr, value) {\r\n        if (value === undefined) {\r\n            if (!this.firstElement) {\r\n                return '';\r\n            }\r\n            return this.firstElement.getAttribute(attr);\r\n        }\r\n        this._each(function (el) {\r\n            el.setAttribute(attr, value);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.find = function (selector) {\r\n        return $LG(this._getSelector(selector, this.selector));\r\n    };\r\n    lgQuery.prototype.first = function () {\r\n        if (this.selector && this.selector.length !== undefined) {\r\n            return $LG(this.selector[0]);\r\n        }\r\n        else {\r\n            return $LG(this.selector);\r\n        }\r\n    };\r\n    lgQuery.prototype.eq = function (index) {\r\n        return $LG(this.selector[index]);\r\n    };\r\n    lgQuery.prototype.parent = function () {\r\n        return $LG(this.selector.parentElement);\r\n    };\r\n    lgQuery.prototype.get = function () {\r\n        return this._getFirstEl();\r\n    };\r\n    lgQuery.prototype.removeAttr = function (attributes) {\r\n        var attrs = attributes.split(' ');\r\n        this._each(function (el) {\r\n            attrs.forEach(function (attr) { return el.removeAttribute(attr); });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.wrap = function (className) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        var wrapper = document.createElement('div');\r\n        wrapper.className = className;\r\n        this.firstElement.parentNode.insertBefore(wrapper, this.firstElement);\r\n        this.firstElement.parentNode.removeChild(this.firstElement);\r\n        wrapper.appendChild(this.firstElement);\r\n        return this;\r\n    };\r\n    lgQuery.prototype.addClass = function (classNames) {\r\n        if (classNames === void 0) { classNames = ''; }\r\n        this._each(function (el) {\r\n            // IE doesn't support multiple arguments\r\n            classNames.split(' ').forEach(function (className) {\r\n                if (className) {\r\n                    el.classList.add(className);\r\n                }\r\n            });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.removeClass = function (classNames) {\r\n        this._each(function (el) {\r\n            // IE doesn't support multiple arguments\r\n            classNames.split(' ').forEach(function (className) {\r\n                if (className) {\r\n                    el.classList.remove(className);\r\n                }\r\n            });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.hasClass = function (className) {\r\n        if (!this.firstElement) {\r\n            return false;\r\n        }\r\n        return this.firstElement.classList.contains(className);\r\n    };\r\n    lgQuery.prototype.hasAttribute = function (attribute) {\r\n        if (!this.firstElement) {\r\n            return false;\r\n        }\r\n        return this.firstElement.hasAttribute(attribute);\r\n    };\r\n    lgQuery.prototype.toggleClass = function (className) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        if (this.hasClass(className)) {\r\n            this.removeClass(className);\r\n        }\r\n        else {\r\n            this.addClass(className);\r\n        }\r\n        return this;\r\n    };\r\n    lgQuery.prototype.css = function (property, value) {\r\n        var _this = this;\r\n        this._each(function (el) {\r\n            _this._setCssVendorPrefix(el, property, value);\r\n        });\r\n        return this;\r\n    };\r\n    // Need to pass separate namespaces for separate elements\r\n    lgQuery.prototype.on = function (events, listener) {\r\n        var _this = this;\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        events.split(' ').forEach(function (event) {\r\n            if (!Array.isArray(lgQuery.eventListeners[event])) {\r\n                lgQuery.eventListeners[event] = [];\r\n            }\r\n            lgQuery.eventListeners[event].push(listener);\r\n            _this.selector.addEventListener(event.split('.')[0], listener);\r\n        });\r\n        return this;\r\n    };\r\n    // @todo - test this\r\n    lgQuery.prototype.once = function (event, listener) {\r\n        var _this = this;\r\n        this.on(event, function () {\r\n            _this.off(event);\r\n            listener(event);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.off = function (event) {\r\n        var _this = this;\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        Object.keys(lgQuery.eventListeners).forEach(function (eventName) {\r\n            if (_this.isEventMatched(event, eventName)) {\r\n                lgQuery.eventListeners[eventName].forEach(function (listener) {\r\n                    _this.selector.removeEventListener(eventName.split('.')[0], listener);\r\n                });\r\n                lgQuery.eventListeners[eventName] = [];\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.trigger = function (event, detail) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        var customEvent = new CustomEvent(event.split('.')[0], {\r\n            detail: detail || null,\r\n        });\r\n        this.firstElement.dispatchEvent(customEvent);\r\n        return this;\r\n    };\r\n    // Does not support IE\r\n    lgQuery.prototype.load = function (url) {\r\n        var _this = this;\r\n        fetch(url)\r\n            .then(function (res) { return res.text(); })\r\n            .then(function (html) {\r\n            _this.selector.innerHTML = html;\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.html = function (html) {\r\n        if (html === undefined) {\r\n            if (!this.firstElement) {\r\n                return '';\r\n            }\r\n            return this.firstElement.innerHTML;\r\n        }\r\n        this._each(function (el) {\r\n            el.innerHTML = html;\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.append = function (html) {\r\n        this._each(function (el) {\r\n            if (typeof html === 'string') {\r\n                el.insertAdjacentHTML('beforeend', html);\r\n            }\r\n            else {\r\n                el.appendChild(html);\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.prepend = function (html) {\r\n        this._each(function (el) {\r\n            if (typeof html === 'string') {\r\n                el.insertAdjacentHTML('afterbegin', html);\r\n            }\r\n            else if (html instanceof HTMLElement) {\r\n                el.insertBefore(html.cloneNode(true), el.firstChild);\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.remove = function () {\r\n        this._each(function (el) {\r\n            el.parentNode.removeChild(el);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.empty = function () {\r\n        this._each(function (el) {\r\n            el.innerHTML = '';\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.scrollTop = function (scrollTop) {\r\n        if (scrollTop !== undefined) {\r\n            document.body.scrollTop = scrollTop;\r\n            document.documentElement.scrollTop = scrollTop;\r\n            return this;\r\n        }\r\n        else {\r\n            return (window.pageYOffset ||\r\n                document.documentElement.scrollTop ||\r\n                document.body.scrollTop ||\r\n                0);\r\n        }\r\n    };\r\n    lgQuery.prototype.scrollLeft = function (scrollLeft) {\r\n        if (scrollLeft !== undefined) {\r\n            document.body.scrollLeft = scrollLeft;\r\n            document.documentElement.scrollLeft = scrollLeft;\r\n            return this;\r\n        }\r\n        else {\r\n            return (window.pageXOffset ||\r\n                document.documentElement.scrollLeft ||\r\n                document.body.scrollLeft ||\r\n                0);\r\n        }\r\n    };\r\n    lgQuery.prototype.offset = function () {\r\n        if (!this.firstElement) {\r\n            return {\r\n                left: 0,\r\n                top: 0,\r\n            };\r\n        }\r\n        var rect = this.firstElement.getBoundingClientRect();\r\n        var bodyMarginLeft = $LG('body').style().marginLeft;\r\n        // Minus body margin - https://stackoverflow.com/questions/30711548/is-getboundingclientrect-left-returning-a-wrong-value\r\n        return {\r\n            left: rect.left - parseFloat(bodyMarginLeft) + this.scrollLeft(),\r\n            top: rect.top + this.scrollTop(),\r\n        };\r\n    };\r\n    lgQuery.prototype.style = function () {\r\n        if (!this.firstElement) {\r\n            return {};\r\n        }\r\n        return (this.firstElement.currentStyle ||\r\n            window.getComputedStyle(this.firstElement));\r\n    };\r\n    // Width without padding and border even if box-sizing is used.\r\n    lgQuery.prototype.width = function () {\r\n        var style = this.style();\r\n        return (this.firstElement.clientWidth -\r\n            parseFloat(style.paddingLeft) -\r\n            parseFloat(style.paddingRight));\r\n    };\r\n    // Height without padding and border even if box-sizing is used.\r\n    lgQuery.prototype.height = function () {\r\n        var style = this.style();\r\n        return (this.firstElement.clientHeight -\r\n            parseFloat(style.paddingTop) -\r\n            parseFloat(style.paddingBottom));\r\n    };\r\n    lgQuery.eventListeners = {};\r\n    return lgQuery;\r\n}());\r\nfunction $LG(selector) {\r\n    initLgPolyfills();\r\n    return new lgQuery(selector);\r\n}\n\nvar defaultDynamicOptions = [\r\n    'src',\r\n    'sources',\r\n    'subHtml',\r\n    'subHtmlUrl',\r\n    'html',\r\n    'video',\r\n    'poster',\r\n    'slideName',\r\n    'responsive',\r\n    'srcset',\r\n    'sizes',\r\n    'iframe',\r\n    'downloadUrl',\r\n    'download',\r\n    'width',\r\n    'facebookShareUrl',\r\n    'tweetText',\r\n    'iframeTitle',\r\n    'twitterShareUrl',\r\n    'pinterestShareUrl',\r\n    'pinterestText',\r\n    'fbHtml',\r\n    'disqusIdentifier',\r\n    'disqusUrl',\r\n];\r\n// Convert html data-attribute to camalcase\r\nfunction convertToData(attr) {\r\n    // FInd a way for lgsize\r\n    if (attr === 'href') {\r\n        return 'src';\r\n    }\r\n    attr = attr.replace('data-', '');\r\n    attr = attr.charAt(0).toLowerCase() + attr.slice(1);\r\n    attr = attr.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\r\n    return attr;\r\n}\r\nvar utils = {\r\n    /**\r\n     * Fetches HTML content from a given URL and inserts it into a specified element.\r\n     *\r\n     * @param url - The URL to fetch the HTML content from.\r\n     * @param element - The DOM element (jQuery object) to insert the HTML content into.\r\n     * @param insertMethod - The method to insert the HTML ('append' or 'replace').\r\n     */\r\n    fetchCaptionFromUrl: function (url, element, insertMethod) {\r\n        // Fetch content from the URL\r\n        fetch(url)\r\n            .then(function (response) { return response.text(); })\r\n            .then(function (htmlContent) {\r\n            if (insertMethod === 'append') {\r\n                var contentDiv = \"<div class=\\\"lg-sub-html\\\">\" + htmlContent + \"</div>\";\r\n                element.append(contentDiv);\r\n            }\r\n            else {\r\n                element.html(htmlContent);\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * get possible width and height from the lgSize attribute. Used for ZoomFromOrigin option\r\n     */\r\n    getSize: function (el, container, spacing, defaultLgSize) {\r\n        if (spacing === void 0) { spacing = 0; }\r\n        var LGel = $LG(el);\r\n        var lgSize = LGel.attr('data-lg-size') || defaultLgSize;\r\n        if (!lgSize) {\r\n            return;\r\n        }\r\n        var isResponsiveSizes = lgSize.split(',');\r\n        // if at-least two viewport sizes are available\r\n        if (isResponsiveSizes[1]) {\r\n            var wWidth = window.innerWidth;\r\n            for (var i = 0; i < isResponsiveSizes.length; i++) {\r\n                var size_1 = isResponsiveSizes[i];\r\n                var responsiveWidth = parseInt(size_1.split('-')[2], 10);\r\n                if (responsiveWidth > wWidth) {\r\n                    lgSize = size_1;\r\n                    break;\r\n                }\r\n                // take last item as last option\r\n                if (i === isResponsiveSizes.length - 1) {\r\n                    lgSize = size_1;\r\n                }\r\n            }\r\n        }\r\n        var size = lgSize.split('-');\r\n        var width = parseInt(size[0], 10);\r\n        var height = parseInt(size[1], 10);\r\n        var cWidth = container.width();\r\n        var cHeight = container.height() - spacing;\r\n        var maxWidth = Math.min(cWidth, width);\r\n        var maxHeight = Math.min(cHeight, height);\r\n        var ratio = Math.min(maxWidth / width, maxHeight / height);\r\n        return { width: width * ratio, height: height * ratio };\r\n    },\r\n    /**\r\n     * @desc Get transform value based on the imageSize. Used for ZoomFromOrigin option\r\n     * @param {jQuery Element}\r\n     * @returns {String} Transform CSS string\r\n     */\r\n    getTransform: function (el, container, top, bottom, imageSize) {\r\n        if (!imageSize) {\r\n            return;\r\n        }\r\n        var LGel = $LG(el).find('img').first();\r\n        if (!LGel.get()) {\r\n            return;\r\n        }\r\n        var containerRect = container.get().getBoundingClientRect();\r\n        var wWidth = containerRect.width;\r\n        // using innerWidth to include mobile safari bottom bar\r\n        var wHeight = container.height() - (top + bottom);\r\n        var elWidth = LGel.width();\r\n        var elHeight = LGel.height();\r\n        var elStyle = LGel.style();\r\n        var x = (wWidth - elWidth) / 2 -\r\n            LGel.offset().left +\r\n            (parseFloat(elStyle.paddingLeft) || 0) +\r\n            (parseFloat(elStyle.borderLeft) || 0) +\r\n            $LG(window).scrollLeft() +\r\n            containerRect.left;\r\n        var y = (wHeight - elHeight) / 2 -\r\n            LGel.offset().top +\r\n            (parseFloat(elStyle.paddingTop) || 0) +\r\n            (parseFloat(elStyle.borderTop) || 0) +\r\n            $LG(window).scrollTop() +\r\n            top;\r\n        var scX = elWidth / imageSize.width;\r\n        var scY = elHeight / imageSize.height;\r\n        var transform = 'translate3d(' +\r\n            (x *= -1) +\r\n            'px, ' +\r\n            (y *= -1) +\r\n            'px, 0) scale3d(' +\r\n            scX +\r\n            ', ' +\r\n            scY +\r\n            ', 1)';\r\n        return transform;\r\n    },\r\n    getIframeMarkup: function (iframeWidth, iframeHeight, iframeMaxWidth, iframeMaxHeight, src, iframeTitle) {\r\n        var title = iframeTitle ? 'title=\"' + iframeTitle + '\"' : '';\r\n        return \"<div class=\\\"lg-media-cont lg-has-iframe\\\" style=\\\"width:\" + iframeWidth + \"; max-width:\" + iframeMaxWidth + \"; height: \" + iframeHeight + \"; max-height:\" + iframeMaxHeight + \"\\\">\\n                    <iframe class=\\\"lg-object\\\" frameborder=\\\"0\\\" \" + title + \" src=\\\"\" + src + \"\\\"  allowfullscreen=\\\"true\\\"></iframe>\\n                </div>\";\r\n    },\r\n    getImgMarkup: function (index, src, altAttr, srcset, sizes, sources) {\r\n        var srcsetAttr = srcset ? \"srcset=\\\"\" + srcset + \"\\\"\" : '';\r\n        var sizesAttr = sizes ? \"sizes=\\\"\" + sizes + \"\\\"\" : '';\r\n        var imgMarkup = \"<img \" + altAttr + \" \" + srcsetAttr + \"  \" + sizesAttr + \" class=\\\"lg-object lg-image\\\" data-index=\\\"\" + index + \"\\\" src=\\\"\" + src + \"\\\" />\";\r\n        var sourceTag = '';\r\n        if (sources) {\r\n            var sourceObj = typeof sources === 'string' ? JSON.parse(sources) : sources;\r\n            sourceTag = sourceObj.map(function (source) {\r\n                var attrs = '';\r\n                Object.keys(source).forEach(function (key) {\r\n                    // Do not remove the first space as it is required to separate the attributes\r\n                    attrs += \" \" + key + \"=\\\"\" + source[key] + \"\\\"\";\r\n                });\r\n                return \"<source \" + attrs + \"></source>\";\r\n            });\r\n        }\r\n        return \"\" + sourceTag + imgMarkup;\r\n    },\r\n    // Get src from responsive src\r\n    getResponsiveSrc: function (srcItms) {\r\n        var rsWidth = [];\r\n        var rsSrc = [];\r\n        var src = '';\r\n        for (var i = 0; i < srcItms.length; i++) {\r\n            var _src = srcItms[i].split(' ');\r\n            // Manage empty space\r\n            if (_src[0] === '') {\r\n                _src.splice(0, 1);\r\n            }\r\n            rsSrc.push(_src[0]);\r\n            rsWidth.push(_src[1]);\r\n        }\r\n        var wWidth = window.innerWidth;\r\n        for (var j = 0; j < rsWidth.length; j++) {\r\n            if (parseInt(rsWidth[j], 10) > wWidth) {\r\n                src = rsSrc[j];\r\n                break;\r\n            }\r\n        }\r\n        return src;\r\n    },\r\n    isImageLoaded: function (img) {\r\n        if (!img)\r\n            return false;\r\n        // During the onload event, IE correctly identifies any images that\r\n        // werent downloaded as not complete. Others should too. Gecko-based\r\n        // browsers act like NS4 in that they report this incorrectly.\r\n        if (!img.complete) {\r\n            return false;\r\n        }\r\n        // However, they do have two very useful properties: naturalWidth and\r\n        // naturalHeight. These give the true size of the image. If it failed\r\n        // to load, either of these should be zero.\r\n        if (img.naturalWidth === 0) {\r\n            return false;\r\n        }\r\n        // No other way of checking: assume its ok.\r\n        return true;\r\n    },\r\n    getVideoPosterMarkup: function (_poster, dummyImg, videoContStyle, playVideoString, _isVideo) {\r\n        var videoClass = '';\r\n        if (_isVideo && _isVideo.youtube) {\r\n            videoClass = 'lg-has-youtube';\r\n        }\r\n        else if (_isVideo && _isVideo.vimeo) {\r\n            videoClass = 'lg-has-vimeo';\r\n        }\r\n        else {\r\n            videoClass = 'lg-has-html5';\r\n        }\r\n        var _dummy = dummyImg;\r\n        if (typeof dummyImg !== 'string') {\r\n            _dummy = dummyImg.outerHTML;\r\n        }\r\n        return \"<div class=\\\"lg-video-cont \" + videoClass + \"\\\" style=\\\"\" + videoContStyle + \"\\\">\\n                <div class=\\\"lg-video-play-button\\\">\\n                <svg\\n                    viewBox=\\\"0 0 20 20\\\"\\n                    preserveAspectRatio=\\\"xMidYMid\\\"\\n                    focusable=\\\"false\\\"\\n                    aria-labelledby=\\\"\" + playVideoString + \"\\\"\\n                    role=\\\"img\\\"\\n                    class=\\\"lg-video-play-icon\\\"\\n                >\\n                    <title>\" + playVideoString + \"</title>\\n                    <polygon class=\\\"lg-video-play-icon-inner\\\" points=\\\"1,0 20,10 1,20\\\"></polygon>\\n                </svg>\\n                <svg class=\\\"lg-video-play-icon-bg\\\" viewBox=\\\"0 0 50 50\\\" focusable=\\\"false\\\">\\n                    <circle cx=\\\"50%\\\" cy=\\\"50%\\\" r=\\\"20\\\"></circle></svg>\\n                <svg class=\\\"lg-video-play-icon-circle\\\" viewBox=\\\"0 0 50 50\\\" focusable=\\\"false\\\">\\n                    <circle cx=\\\"50%\\\" cy=\\\"50%\\\" r=\\\"20\\\"></circle>\\n                </svg>\\n            </div>\\n            \" + _dummy + \"\\n            <img class=\\\"lg-object lg-video-poster\\\" src=\\\"\" + _poster + \"\\\" />\\n        </div>\";\r\n    },\r\n    getFocusableElements: function (container) {\r\n        var elements = container.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])');\r\n        var visibleElements = [].filter.call(elements, function (element) {\r\n            var style = window.getComputedStyle(element);\r\n            return style.display !== 'none' && style.visibility !== 'hidden';\r\n        });\r\n        return visibleElements;\r\n    },\r\n    /**\r\n     * @desc Create dynamic elements array from gallery items when dynamic option is false\r\n     * It helps to avoid frequent DOM interaction\r\n     * and avoid multiple checks for dynamic elments\r\n     *\r\n     * @returns {Array} dynamicEl\r\n     */\r\n    getDynamicOptions: function (items, extraProps, getCaptionFromTitleOrAlt, exThumbImage) {\r\n        var dynamicElements = [];\r\n        var availableDynamicOptions = __spreadArrays(defaultDynamicOptions, extraProps);\r\n        [].forEach.call(items, function (item) {\r\n            var dynamicEl = {};\r\n            for (var i = 0; i < item.attributes.length; i++) {\r\n                var attr = item.attributes[i];\r\n                if (attr.specified) {\r\n                    var dynamicAttr = convertToData(attr.name);\r\n                    var label = '';\r\n                    if (availableDynamicOptions.indexOf(dynamicAttr) > -1) {\r\n                        label = dynamicAttr;\r\n                    }\r\n                    if (label) {\r\n                        dynamicEl[label] = attr.value;\r\n                    }\r\n                }\r\n            }\r\n            var currentItem = $LG(item);\r\n            var alt = currentItem.find('img').first().attr('alt');\r\n            var title = currentItem.attr('title');\r\n            var thumb = exThumbImage\r\n                ? currentItem.attr(exThumbImage)\r\n                : currentItem.find('img').first().attr('src');\r\n            dynamicEl.thumb = thumb;\r\n            if (getCaptionFromTitleOrAlt && !dynamicEl.subHtml) {\r\n                dynamicEl.subHtml = title || alt || '';\r\n            }\r\n            dynamicEl.alt = alt || title || '';\r\n            dynamicElements.push(dynamicEl);\r\n        });\r\n        console.log(dynamicElements, 'dynamicElements');\r\n        return dynamicElements;\r\n    },\r\n    isMobile: function () {\r\n        return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n    },\r\n    /**\r\n     * @desc Check the given src is video\r\n     * @param {String} src\r\n     * @return {Object} video type\r\n     * Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\r\n     *\r\n     * @todo - this information can be moved to dynamicEl to avoid frequent calls\r\n     */\r\n    isVideo: function (src, isHTML5VIdeo, index) {\r\n        if (!src) {\r\n            if (isHTML5VIdeo) {\r\n                return {\r\n                    html5: true,\r\n                };\r\n            }\r\n            else {\r\n                console.error('lightGallery :- data-src is not provided on slide item ' +\r\n                    (index + 1) +\r\n                    '. Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/');\r\n                return;\r\n            }\r\n        }\r\n        var youtube = src.match(/\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com|be-nocookie\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)([\\&|?][\\S]*)*/i);\r\n        var vimeo = src.match(/\\/\\/(?:www\\.)?(?:player\\.)?vimeo.com\\/(?:video\\/)?([0-9a-z\\-_]+)(.*)?/i);\r\n        var wistia = src.match(/https?:\\/\\/(.+)?(wistia\\.com|wi\\.st)\\/(medias|embed)\\/([0-9a-z\\-_]+)(.*)/);\r\n        if (youtube) {\r\n            return {\r\n                youtube: youtube,\r\n            };\r\n        }\r\n        else if (vimeo) {\r\n            return {\r\n                vimeo: vimeo,\r\n            };\r\n        }\r\n        else if (wistia) {\r\n            return {\r\n                wistia: wistia,\r\n            };\r\n        }\r\n    },\r\n};\n\n// @ref - https://stackoverflow.com/questions/3971841/how-to-resize-images-proportionally-keeping-the-aspect-ratio\r\n// @ref - https://2ality.com/2017/04/setting-up-multi-platform-packages.html\r\n// Unique id for each gallery\r\nvar lgId = 0;\r\nvar LightGallery = /** @class */ (function () {\r\n    function LightGallery(element, options) {\r\n        this.lgOpened = false;\r\n        this.index = 0;\r\n        // lightGallery modules\r\n        this.plugins = [];\r\n        // false when lightGallery load first slide content;\r\n        this.lGalleryOn = false;\r\n        // True when a slide animation is in progress\r\n        this.lgBusy = false;\r\n        this.currentItemsInDom = [];\r\n        // Scroll top value before lightGallery is opened\r\n        this.prevScrollTop = 0;\r\n        this.bodyPaddingRight = 0;\r\n        this.isDummyImageRemoved = false;\r\n        this.dragOrSwipeEnabled = false;\r\n        this.mediaContainerPosition = {\r\n            top: 0,\r\n            bottom: 0,\r\n        };\r\n        if (!element) {\r\n            return this;\r\n        }\r\n        lgId++;\r\n        this.lgId = lgId;\r\n        this.el = element;\r\n        this.LGel = $LG(element);\r\n        this.generateSettings(options);\r\n        this.buildModules();\r\n        // When using dynamic mode, ensure dynamicEl is an array\r\n        if (this.settings.dynamic &&\r\n            this.settings.dynamicEl !== undefined &&\r\n            !Array.isArray(this.settings.dynamicEl)) {\r\n            throw 'When using dynamic mode, you must also define dynamicEl as an Array.';\r\n        }\r\n        this.galleryItems = this.getItems();\r\n        this.normalizeSettings();\r\n        // Gallery items\r\n        this.init();\r\n        this.validateLicense();\r\n        return this;\r\n    }\r\n    LightGallery.prototype.generateSettings = function (options) {\r\n        // lightGallery settings\r\n        this.settings = __assign(__assign({}, lightGalleryCoreSettings), options);\r\n        if (this.settings.isMobile &&\r\n            typeof this.settings.isMobile === 'function'\r\n            ? this.settings.isMobile()\r\n            : utils.isMobile()) {\r\n            var mobileSettings = __assign(__assign({}, this.settings.mobileSettings), this.settings.mobileSettings);\r\n            this.settings = __assign(__assign({}, this.settings), mobileSettings);\r\n        }\r\n    };\r\n    LightGallery.prototype.normalizeSettings = function () {\r\n        if (this.settings.slideEndAnimation) {\r\n            this.settings.hideControlOnEnd = false;\r\n        }\r\n        if (!this.settings.closable) {\r\n            this.settings.swipeToClose = false;\r\n        }\r\n        // And reset it on close to get the correct value next time\r\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\r\n        // At the moment, Zoom from image doesn't support dynamic options\r\n        // @todo add zoomFromOrigin support for dynamic images\r\n        if (this.settings.dynamic) {\r\n            this.zoomFromOrigin = false;\r\n        }\r\n        if (this.settings.container) {\r\n            var container = this.settings.container;\r\n            if (typeof container === 'function') {\r\n                this.settings.container = container();\r\n            }\r\n            else if (typeof container === 'string') {\r\n                var el = document.querySelector(container);\r\n                this.settings.container = el !== null && el !== void 0 ? el : document.body;\r\n            }\r\n        }\r\n        else {\r\n            this.settings.container = document.body;\r\n        }\r\n        // settings.preload should not be grater than $item.length\r\n        this.settings.preload = Math.min(this.settings.preload, this.galleryItems.length);\r\n    };\r\n    LightGallery.prototype.init = function () {\r\n        var _this = this;\r\n        this.addSlideVideoInfo(this.galleryItems);\r\n        this.buildStructure();\r\n        this.LGel.trigger(lGEvents.init, {\r\n            instance: this,\r\n        });\r\n        if (this.settings.keyPress) {\r\n            this.keyPress();\r\n        }\r\n        setTimeout(function () {\r\n            _this.enableDrag();\r\n            _this.enableSwipe();\r\n            _this.triggerPosterClick();\r\n        }, 50);\r\n        this.arrow();\r\n        if (this.settings.mousewheel) {\r\n            this.mousewheel();\r\n        }\r\n        if (!this.settings.dynamic) {\r\n            this.openGalleryOnItemClick();\r\n        }\r\n    };\r\n    LightGallery.prototype.openGalleryOnItemClick = function () {\r\n        var _this = this;\r\n        var _loop_1 = function (index) {\r\n            var element = this_1.items[index];\r\n            var $element = $LG(element);\r\n            // Using different namespace for click because click event should not unbind if selector is same object('this')\r\n            // @todo manage all event listners - should have namespace that represent element\r\n            var uuid = lgQuery.generateUUID();\r\n            $element\r\n                .attr('data-lg-id', uuid)\r\n                .on(\"click.lgcustom-item-\" + uuid, function (e) {\r\n                e.preventDefault();\r\n                var currentItemIndex = _this.settings.index || index;\r\n                _this.openGallery(currentItemIndex, element);\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        // Using for loop instead of using bubbling as the items can be any html element.\r\n        for (var index = 0; index < this.items.length; index++) {\r\n            _loop_1(index);\r\n        }\r\n    };\r\n    /**\r\n     * Module constructor\r\n     * Modules are build incrementally.\r\n     * Gallery should be opened only once all the modules are initialized.\r\n     * use moduleBuildTimeout to make sure this\r\n     */\r\n    LightGallery.prototype.buildModules = function () {\r\n        var _this = this;\r\n        this.settings.plugins.forEach(function (plugin) {\r\n            _this.plugins.push(new plugin(_this, $LG));\r\n        });\r\n    };\r\n    LightGallery.prototype.validateLicense = function () {\r\n        if (!this.settings.licenseKey) {\r\n            console.error('Please provide a valid license key');\r\n        }\r\n        else if (this.settings.licenseKey === '0000-0000-000-0000') {\r\n            console.warn(\"lightGallery: \" + this.settings.licenseKey + \" license key is not valid for production use\");\r\n        }\r\n    };\r\n    LightGallery.prototype.getSlideItem = function (index) {\r\n        return $LG(this.getSlideItemId(index));\r\n    };\r\n    LightGallery.prototype.getSlideItemId = function (index) {\r\n        return \"#lg-item-\" + this.lgId + \"-\" + index;\r\n    };\r\n    LightGallery.prototype.getIdName = function (id) {\r\n        return id + \"-\" + this.lgId;\r\n    };\r\n    LightGallery.prototype.getElementById = function (id) {\r\n        return $LG(\"#\" + this.getIdName(id));\r\n    };\r\n    LightGallery.prototype.manageSingleSlideClassName = function () {\r\n        if (this.galleryItems.length < 2) {\r\n            this.outer.addClass('lg-single-item');\r\n        }\r\n        else {\r\n            this.outer.removeClass('lg-single-item');\r\n        }\r\n    };\r\n    LightGallery.prototype.buildStructure = function () {\r\n        var _this = this;\r\n        var container = this.$container && this.$container.get();\r\n        if (container) {\r\n            return;\r\n        }\r\n        var controls = '';\r\n        var subHtmlCont = '';\r\n        // Create controls\r\n        if (this.settings.controls) {\r\n            controls = \"<button type=\\\"button\\\" id=\\\"\" + this.getIdName('lg-prev') + \"\\\" aria-label=\\\"\" + this.settings.strings['previousSlide'] + \"\\\" class=\\\"lg-prev lg-icon\\\"> \" + this.settings.prevHtml + \" </button>\\n                <button type=\\\"button\\\" id=\\\"\" + this.getIdName('lg-next') + \"\\\" aria-label=\\\"\" + this.settings.strings['nextSlide'] + \"\\\" class=\\\"lg-next lg-icon\\\"> \" + this.settings.nextHtml + \" </button>\";\r\n        }\r\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\r\n            subHtmlCont =\r\n                '<div class=\"lg-sub-html\" role=\"status\" aria-live=\"polite\"></div>';\r\n        }\r\n        var addClasses = '';\r\n        if (this.settings.allowMediaOverlap) {\r\n            // Do not remove space before last single quote\r\n            addClasses += 'lg-media-overlap ';\r\n        }\r\n        var ariaLabelledby = this.settings.ariaLabelledby\r\n            ? 'aria-labelledby=\"' + this.settings.ariaLabelledby + '\"'\r\n            : '';\r\n        var ariaDescribedby = this.settings.ariaDescribedby\r\n            ? 'aria-describedby=\"' + this.settings.ariaDescribedby + '\"'\r\n            : '';\r\n        var containerClassName = \"lg-container \" + this.settings.addClass + \" \" + (document.body !== this.settings.container ? 'lg-inline' : '');\r\n        var closeIcon = this.settings.closable && this.settings.showCloseIcon\r\n            ? \"<button type=\\\"button\\\" aria-label=\\\"\" + this.settings.strings['closeGallery'] + \"\\\" id=\\\"\" + this.getIdName('lg-close') + \"\\\" class=\\\"lg-close lg-icon\\\"></button>\"\r\n            : '';\r\n        var maximizeIcon = this.settings.showMaximizeIcon\r\n            ? \"<button type=\\\"button\\\" aria-label=\\\"\" + this.settings.strings['toggleMaximize'] + \"\\\" id=\\\"\" + this.getIdName('lg-maximize') + \"\\\" class=\\\"lg-maximize lg-icon\\\"></button>\"\r\n            : '';\r\n        var template = \"\\n        <div class=\\\"\" + containerClassName + \"\\\" id=\\\"\" + this.getIdName('lg-container') + \"\\\" tabindex=\\\"-1\\\" aria-modal=\\\"true\\\" \" + ariaLabelledby + \" \" + ariaDescribedby + \" role=\\\"dialog\\\"\\n        >\\n            <div id=\\\"\" + this.getIdName('lg-backdrop') + \"\\\" class=\\\"lg-backdrop\\\"></div>\\n\\n            <div id=\\\"\" + this.getIdName('lg-outer') + \"\\\" class=\\\"lg-outer lg-use-css3 lg-css3 lg-hide-items \" + addClasses + \" \\\">\\n\\n              <div id=\\\"\" + this.getIdName('lg-content') + \"\\\" class=\\\"lg-content\\\">\\n                <div id=\\\"\" + this.getIdName('lg-inner') + \"\\\" class=\\\"lg-inner\\\">\\n                </div>\\n                \" + controls + \"\\n              </div>\\n                <div id=\\\"\" + this.getIdName('lg-toolbar') + \"\\\" class=\\\"lg-toolbar lg-group\\\">\\n                    \" + maximizeIcon + \"\\n                    \" + closeIcon + \"\\n                    </div>\\n                    \" + (this.settings.appendSubHtmlTo === '.lg-outer'\r\n            ? subHtmlCont\r\n            : '') + \"\\n                <div id=\\\"\" + this.getIdName('lg-components') + \"\\\" class=\\\"lg-components\\\">\\n                    \" + (this.settings.appendSubHtmlTo === '.lg-sub-html'\r\n            ? subHtmlCont\r\n            : '') + \"\\n                </div>\\n            </div>\\n        </div>\\n        \";\r\n        $LG(this.settings.container).append(template);\r\n        if (document.body !== this.settings.container) {\r\n            $LG(this.settings.container).css('position', 'relative');\r\n        }\r\n        this.outer = this.getElementById('lg-outer');\r\n        this.$lgComponents = this.getElementById('lg-components');\r\n        this.$backdrop = this.getElementById('lg-backdrop');\r\n        this.$container = this.getElementById('lg-container');\r\n        this.$inner = this.getElementById('lg-inner');\r\n        this.$content = this.getElementById('lg-content');\r\n        this.$toolbar = this.getElementById('lg-toolbar');\r\n        this.$backdrop.css('transition-duration', this.settings.backdropDuration + 'ms');\r\n        var outerClassNames = this.settings.mode + \" \";\r\n        this.manageSingleSlideClassName();\r\n        if (this.settings.enableDrag) {\r\n            outerClassNames += 'lg-grab ';\r\n        }\r\n        this.outer.addClass(outerClassNames);\r\n        this.$inner.css('transition-timing-function', this.settings.easing);\r\n        this.$inner.css('transition-duration', this.settings.speed + 'ms');\r\n        if (this.settings.download) {\r\n            this.$toolbar.append(\"<a id=\\\"\" + this.getIdName('lg-download') + \"\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" aria-label=\\\"\" + this.settings.strings['download'] + \"\\\" download class=\\\"lg-download lg-icon\\\"></a>\");\r\n        }\r\n        this.counter();\r\n        $LG(window).on(\"resize.lg.global\" + this.lgId + \" orientationchange.lg.global\" + this.lgId, function () {\r\n            _this.refreshOnResize();\r\n        });\r\n        this.hideBars();\r\n        this.manageCloseGallery();\r\n        this.toggleMaximize();\r\n        this.initModules();\r\n    };\r\n    LightGallery.prototype.refreshOnResize = function () {\r\n        if (this.lgOpened) {\r\n            var currentGalleryItem = this.galleryItems[this.index];\r\n            var __slideVideoInfo = currentGalleryItem.__slideVideoInfo;\r\n            this.mediaContainerPosition = this.getMediaContainerPosition();\r\n            var _a = this.mediaContainerPosition, top_1 = _a.top, bottom = _a.bottom;\r\n            this.currentImageSize = utils.getSize(this.items[this.index], this.outer, top_1 + bottom, __slideVideoInfo && this.settings.videoMaxSize);\r\n            if (__slideVideoInfo) {\r\n                this.resizeVideoSlide(this.index, this.currentImageSize);\r\n            }\r\n            if (this.zoomFromOrigin && !this.isDummyImageRemoved) {\r\n                var imgStyle = this.getDummyImgStyles(this.currentImageSize);\r\n                this.outer\r\n                    .find('.lg-current .lg-dummy-img')\r\n                    .first()\r\n                    .attr('style', imgStyle);\r\n            }\r\n            this.LGel.trigger(lGEvents.containerResize);\r\n        }\r\n    };\r\n    LightGallery.prototype.resizeVideoSlide = function (index, imageSize) {\r\n        var lgVideoStyle = this.getVideoContStyle(imageSize);\r\n        var currentSlide = this.getSlideItem(index);\r\n        currentSlide.find('.lg-video-cont').attr('style', lgVideoStyle);\r\n    };\r\n    /**\r\n     * Update slides dynamically.\r\n     * Add, edit or delete slides dynamically when lightGallery is opened.\r\n     * Modify the current gallery items and pass it via updateSlides method\r\n     * @note\r\n     * - Do not mutate existing lightGallery items directly.\r\n     * - Always pass new list of gallery items\r\n     * - You need to take care of thumbnails outside the gallery if any\r\n     * - user this method only if you want to update slides when the gallery is opened. Otherwise, use `refresh()` method.\r\n     * @param items Gallery items\r\n     * @param index After the update operation, which slide gallery should navigate to\r\n     * @category lGPublicMethods\r\n     * @example\r\n     * const plugin = lightGallery();\r\n     *\r\n     * // Adding slides dynamically\r\n     * let galleryItems = [\r\n     * // Access existing lightGallery items\r\n     * // galleryItems are automatically generated internally from the gallery HTML markup\r\n     * // or directly from galleryItems when dynamic gallery is used\r\n     *   ...plugin.galleryItems,\r\n     *     ...[\r\n     *       {\r\n     *         src: 'img/img-1.png',\r\n     *           thumb: 'img/thumb1.png',\r\n     *         },\r\n     *     ],\r\n     *   ];\r\n     *   plugin.updateSlides(\r\n     *     galleryItems,\r\n     *     plugin.index,\r\n     *   );\r\n     *\r\n     *\r\n     * // Remove slides dynamically\r\n     * galleryItems = JSON.parse(\r\n     *   JSON.stringify(updateSlideInstance.galleryItems),\r\n     * );\r\n     * galleryItems.shift();\r\n     * updateSlideInstance.updateSlides(galleryItems, 1);\r\n     * @see <a href=\"/demos/update-slides/\">Demo</a>\r\n     */\r\n    LightGallery.prototype.updateSlides = function (items, index) {\r\n        if (this.index > items.length - 1) {\r\n            this.index = items.length - 1;\r\n        }\r\n        if (items.length === 1) {\r\n            this.index = 0;\r\n        }\r\n        if (!items.length) {\r\n            this.closeGallery();\r\n            return;\r\n        }\r\n        var currentSrc = this.galleryItems[index].src;\r\n        this.galleryItems = items;\r\n        this.updateControls();\r\n        this.$inner.empty();\r\n        this.currentItemsInDom = [];\r\n        var _index = 0;\r\n        // Find the current index based on source value of the slide\r\n        this.galleryItems.some(function (galleryItem, itemIndex) {\r\n            if (galleryItem.src === currentSrc) {\r\n                _index = itemIndex;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        this.currentItemsInDom = this.organizeSlideItems(_index, -1);\r\n        this.loadContent(_index, true);\r\n        this.getSlideItem(_index).addClass('lg-current');\r\n        this.index = _index;\r\n        this.updateCurrentCounter(_index);\r\n        this.LGel.trigger(lGEvents.updateSlides);\r\n    };\r\n    // Get gallery items based on multiple conditions\r\n    LightGallery.prototype.getItems = function () {\r\n        // Gallery items\r\n        this.items = [];\r\n        if (!this.settings.dynamic) {\r\n            if (this.settings.selector === 'this') {\r\n                this.items.push(this.el);\r\n            }\r\n            else if (this.settings.selector) {\r\n                if (typeof this.settings.selector === 'string') {\r\n                    if (this.settings.selectWithin) {\r\n                        var selectWithin = $LG(this.settings.selectWithin);\r\n                        this.items = selectWithin\r\n                            .find(this.settings.selector)\r\n                            .get();\r\n                    }\r\n                    else {\r\n                        this.items = this.el.querySelectorAll(this.settings.selector);\r\n                    }\r\n                }\r\n                else {\r\n                    this.items = this.settings.selector;\r\n                }\r\n            }\r\n            else {\r\n                this.items = this.el.children;\r\n            }\r\n            return utils.getDynamicOptions(this.items, this.settings.extraProps, this.settings.getCaptionFromTitleOrAlt, this.settings.exThumbImage);\r\n        }\r\n        else {\r\n            return this.settings.dynamicEl || [];\r\n        }\r\n    };\r\n    LightGallery.prototype.shouldHideScrollbar = function () {\r\n        return (this.settings.hideScrollbar &&\r\n            document.body === this.settings.container);\r\n    };\r\n    LightGallery.prototype.hideScrollbar = function () {\r\n        if (!this.shouldHideScrollbar()) {\r\n            return;\r\n        }\r\n        this.bodyPaddingRight = parseFloat($LG('body').style().paddingRight);\r\n        var bodyRect = document.documentElement.getBoundingClientRect();\r\n        var scrollbarWidth = window.innerWidth - bodyRect.width;\r\n        $LG(document.body).css('padding-right', scrollbarWidth + this.bodyPaddingRight + 'px');\r\n        $LG(document.body).addClass('lg-overlay-open');\r\n    };\r\n    LightGallery.prototype.resetScrollBar = function () {\r\n        if (!this.shouldHideScrollbar()) {\r\n            return;\r\n        }\r\n        $LG(document.body).css('padding-right', this.bodyPaddingRight + 'px');\r\n        $LG(document.body).removeClass('lg-overlay-open');\r\n    };\r\n    /**\r\n     * Open lightGallery.\r\n     * Open gallery with specific slide by passing index of the slide as parameter.\r\n     * @category lGPublicMethods\r\n     * @param {Number} index  - index of the slide\r\n     * @param {HTMLElement} element - Which image lightGallery should zoom from\r\n     *\r\n     * @example\r\n     * const $dynamicGallery = document.getElementById('dynamic-gallery-demo');\r\n     * const dynamicGallery = lightGallery($dynamicGallery, {\r\n     *     dynamic: true,\r\n     *     dynamicEl: [\r\n     *         {\r\n     *              src: 'img/1.jpg',\r\n     *              thumb: 'img/thumb-1.jpg',\r\n     *              subHtml: '<h4>Image 1 title</h4><p>Image 1 descriptions.</p>',\r\n     *         },\r\n     *         ...\r\n     *     ],\r\n     * });\r\n     * $dynamicGallery.addEventListener('click', function () {\r\n     *     // Starts with third item.(Optional).\r\n     *     // This is useful if you want use dynamic mode with\r\n     *     // custom thumbnails (thumbnails outside gallery),\r\n     *     dynamicGallery.openGallery(2);\r\n     * });\r\n     *\r\n     */\r\n    LightGallery.prototype.openGallery = function (index, element) {\r\n        var _this = this;\r\n        if (index === void 0) { index = this.settings.index; }\r\n        // prevent accidental double execution\r\n        if (this.lgOpened)\r\n            return;\r\n        this.lgOpened = true;\r\n        this.outer.removeClass('lg-hide-items');\r\n        this.hideScrollbar();\r\n        // Add display block, but still has opacity 0\r\n        this.$container.addClass('lg-show');\r\n        var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, index);\r\n        this.currentItemsInDom = itemsToBeInsertedToDom;\r\n        var items = '';\r\n        itemsToBeInsertedToDom.forEach(function (item) {\r\n            items = items + (\"<div id=\\\"\" + item + \"\\\" class=\\\"lg-item\\\"></div>\");\r\n        });\r\n        this.$inner.append(items);\r\n        this.addHtml(index);\r\n        var transform = '';\r\n        this.mediaContainerPosition = this.getMediaContainerPosition();\r\n        var _a = this.mediaContainerPosition, top = _a.top, bottom = _a.bottom;\r\n        if (!this.settings.allowMediaOverlap) {\r\n            this.setMediaContainerPosition(top, bottom);\r\n        }\r\n        var __slideVideoInfo = this.galleryItems[index].__slideVideoInfo;\r\n        if (this.zoomFromOrigin && element) {\r\n            this.currentImageSize = utils.getSize(element, this.outer, top + bottom, __slideVideoInfo && this.settings.videoMaxSize);\r\n            transform = utils.getTransform(element, this.outer, top, bottom, this.currentImageSize);\r\n        }\r\n        if (!this.zoomFromOrigin || !transform) {\r\n            this.outer.addClass(this.settings.startClass);\r\n            this.getSlideItem(index).removeClass('lg-complete');\r\n        }\r\n        var timeout = this.settings.zoomFromOrigin\r\n            ? 100\r\n            : this.settings.backdropDuration;\r\n        setTimeout(function () {\r\n            _this.outer.addClass('lg-components-open');\r\n        }, timeout);\r\n        this.index = index;\r\n        this.LGel.trigger(lGEvents.beforeOpen);\r\n        // add class lg-current to remove initial transition\r\n        this.getSlideItem(index).addClass('lg-current');\r\n        this.lGalleryOn = false;\r\n        // Store the current scroll top value to scroll back after closing the gallery..\r\n        this.prevScrollTop = $LG(window).scrollTop();\r\n        setTimeout(function () {\r\n            // Need to check both zoomFromOrigin and transform values as we need to set set the\r\n            // default opening animation if user missed to add the lg-size attribute\r\n            if (_this.zoomFromOrigin && transform) {\r\n                var currentSlide_1 = _this.getSlideItem(index);\r\n                currentSlide_1.css('transform', transform);\r\n                setTimeout(function () {\r\n                    currentSlide_1\r\n                        .addClass('lg-start-progress lg-start-end-progress')\r\n                        .css('transition-duration', _this.settings.startAnimationDuration + 'ms');\r\n                    _this.outer.addClass('lg-zoom-from-image');\r\n                });\r\n                setTimeout(function () {\r\n                    currentSlide_1.css('transform', 'translate3d(0, 0, 0)');\r\n                }, 100);\r\n            }\r\n            setTimeout(function () {\r\n                _this.$backdrop.addClass('in');\r\n                _this.$container.addClass('lg-show-in');\r\n            }, 10);\r\n            setTimeout(function () {\r\n                if (_this.settings.trapFocus &&\r\n                    document.body === _this.settings.container) {\r\n                    _this.trapFocus();\r\n                }\r\n            }, _this.settings.backdropDuration + 50);\r\n            // lg-visible class resets gallery opacity to 1\r\n            if (!_this.zoomFromOrigin || !transform) {\r\n                setTimeout(function () {\r\n                    _this.outer.addClass('lg-visible');\r\n                }, _this.settings.backdropDuration);\r\n            }\r\n            // initiate slide function\r\n            _this.slide(index, false, false, false);\r\n            _this.LGel.trigger(lGEvents.afterOpen);\r\n        });\r\n        if (document.body === this.settings.container) {\r\n            $LG('html').addClass('lg-on');\r\n        }\r\n    };\r\n    /**\r\n     * Note - Changing the position of the media on every slide transition creates a flickering effect.\r\n     * Therefore,The height of the caption is calculated dynamically, only once based on the first slide caption.\r\n     * if you have dynamic captions for each media,\r\n     * you can provide an appropriate height for the captions via allowMediaOverlap option\r\n     */\r\n    LightGallery.prototype.getMediaContainerPosition = function () {\r\n        if (this.settings.allowMediaOverlap) {\r\n            return {\r\n                top: 0,\r\n                bottom: 0,\r\n            };\r\n        }\r\n        var top = this.$toolbar.get().clientHeight || 0;\r\n        var subHtml = this.outer.find('.lg-components .lg-sub-html').get();\r\n        var captionHeight = this.settings.defaultCaptionHeight ||\r\n            (subHtml && subHtml.clientHeight) ||\r\n            0;\r\n        var thumbContainer = this.outer.find('.lg-thumb-outer').get();\r\n        var thumbHeight = thumbContainer ? thumbContainer.clientHeight : 0;\r\n        var bottom = thumbHeight + captionHeight;\r\n        return {\r\n            top: top,\r\n            bottom: bottom,\r\n        };\r\n    };\r\n    LightGallery.prototype.setMediaContainerPosition = function (top, bottom) {\r\n        if (top === void 0) { top = 0; }\r\n        if (bottom === void 0) { bottom = 0; }\r\n        this.$content.css('top', top + 'px').css('bottom', bottom + 'px');\r\n    };\r\n    LightGallery.prototype.hideBars = function () {\r\n        var _this = this;\r\n        // Hide controllers if mouse doesn't move for some period\r\n        setTimeout(function () {\r\n            _this.outer.removeClass('lg-hide-items');\r\n            if (_this.settings.hideBarsDelay > 0) {\r\n                _this.outer.on('mousemove.lg click.lg touchstart.lg', function () {\r\n                    _this.outer.removeClass('lg-hide-items');\r\n                    clearTimeout(_this.hideBarTimeout);\r\n                    // Timeout will be cleared on each slide movement also\r\n                    _this.hideBarTimeout = setTimeout(function () {\r\n                        _this.outer.addClass('lg-hide-items');\r\n                    }, _this.settings.hideBarsDelay);\r\n                });\r\n                _this.outer.trigger('mousemove.lg');\r\n            }\r\n        }, this.settings.showBarsAfter);\r\n    };\r\n    LightGallery.prototype.initPictureFill = function ($img) {\r\n        if (this.settings.supportLegacyBrowser) {\r\n            try {\r\n                picturefill({\r\n                    elements: [$img.get()],\r\n                });\r\n            }\r\n            catch (e) {\r\n                console.warn('lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.');\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *  @desc Create image counter\r\n     *  Ex: 1/10\r\n     */\r\n    LightGallery.prototype.counter = function () {\r\n        if (this.settings.counter) {\r\n            var counterHtml = \"<div class=\\\"lg-counter\\\" role=\\\"status\\\" aria-live=\\\"polite\\\">\\n                <span id=\\\"\" + this.getIdName('lg-counter-current') + \"\\\" class=\\\"lg-counter-current\\\">\" + (this.index + 1) + \" </span> /\\n                <span id=\\\"\" + this.getIdName('lg-counter-all') + \"\\\" class=\\\"lg-counter-all\\\">\" + this.galleryItems.length + \" </span></div>\";\r\n            this.outer.find(this.settings.appendCounterTo).append(counterHtml);\r\n        }\r\n    };\r\n    /**\r\n     *  @desc add sub-html into the slide\r\n     *  @param {Number} index - index of the slide\r\n     */\r\n    LightGallery.prototype.addHtml = function (index) {\r\n        var subHtml;\r\n        var subHtmlUrl;\r\n        if (this.galleryItems[index].subHtmlUrl) {\r\n            subHtmlUrl = this.galleryItems[index].subHtmlUrl;\r\n        }\r\n        else {\r\n            subHtml = this.galleryItems[index].subHtml;\r\n        }\r\n        if (!subHtmlUrl) {\r\n            if (subHtml) {\r\n                // get first letter of sub-html\r\n                // if first letter starts with . or # get the html form the jQuery object\r\n                var fL = subHtml.substring(0, 1);\r\n                if (fL === '.' || fL === '#') {\r\n                    if (this.settings.subHtmlSelectorRelative &&\r\n                        !this.settings.dynamic) {\r\n                        subHtml = $LG(this.items)\r\n                            .eq(index)\r\n                            .find(subHtml)\r\n                            .first()\r\n                            .html();\r\n                    }\r\n                    else {\r\n                        subHtml = $LG(subHtml).first().html();\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                subHtml = '';\r\n            }\r\n        }\r\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\r\n            if (subHtmlUrl) {\r\n                utils.fetchCaptionFromUrl(subHtmlUrl, this.outer.find('.lg-sub-html'), 'replace');\r\n            }\r\n            else {\r\n                this.outer.find('.lg-sub-html').html(subHtml);\r\n            }\r\n        }\r\n        else {\r\n            var currentSlide = $LG(this.getSlideItemId(index));\r\n            if (subHtmlUrl) {\r\n                utils.fetchCaptionFromUrl(subHtmlUrl, currentSlide, 'append');\r\n            }\r\n            else {\r\n                currentSlide.append(\"<div class=\\\"lg-sub-html\\\">\" + subHtml + \"</div>\");\r\n            }\r\n        }\r\n        // Add lg-empty-html class if title doesn't exist\r\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\r\n            if (subHtml === '') {\r\n                this.outer\r\n                    .find(this.settings.appendSubHtmlTo)\r\n                    .addClass('lg-empty-html');\r\n            }\r\n            else {\r\n                this.outer\r\n                    .find(this.settings.appendSubHtmlTo)\r\n                    .removeClass('lg-empty-html');\r\n            }\r\n        }\r\n        this.LGel.trigger(lGEvents.afterAppendSubHtml, {\r\n            index: index,\r\n        });\r\n    };\r\n    /**\r\n     *  @desc Preload slides\r\n     *  @param {Number} index - index of the slide\r\n     * @todo preload not working for the first slide, Also, should work for the first and last slide as well\r\n     */\r\n    LightGallery.prototype.preload = function (index) {\r\n        for (var i = 1; i <= this.settings.preload; i++) {\r\n            if (i >= this.galleryItems.length - index) {\r\n                break;\r\n            }\r\n            this.loadContent(index + i, false);\r\n        }\r\n        for (var j = 1; j <= this.settings.preload; j++) {\r\n            if (index - j < 0) {\r\n                break;\r\n            }\r\n            this.loadContent(index - j, false);\r\n        }\r\n    };\r\n    LightGallery.prototype.getDummyImgStyles = function (imageSize) {\r\n        if (!imageSize)\r\n            return '';\r\n        return \"width:\" + imageSize.width + \"px;\\n                margin-left: -\" + imageSize.width / 2 + \"px;\\n                margin-top: -\" + imageSize.height / 2 + \"px;\\n                height:\" + imageSize.height + \"px\";\r\n    };\r\n    LightGallery.prototype.getVideoContStyle = function (imageSize) {\r\n        if (!imageSize)\r\n            return '';\r\n        return \"width:\" + imageSize.width + \"px;\\n                height:\" + imageSize.height + \"px\";\r\n    };\r\n    LightGallery.prototype.getDummyImageContent = function ($currentSlide, index, alt) {\r\n        var $currentItem;\r\n        if (!this.settings.dynamic) {\r\n            $currentItem = $LG(this.items).eq(index);\r\n        }\r\n        if ($currentItem) {\r\n            var _dummyImgSrc = void 0;\r\n            if (!this.settings.exThumbImage) {\r\n                _dummyImgSrc = $currentItem.find('img').first().attr('src');\r\n            }\r\n            else {\r\n                _dummyImgSrc = $currentItem.attr(this.settings.exThumbImage);\r\n            }\r\n            if (!_dummyImgSrc)\r\n                return '';\r\n            var imgStyle = this.getDummyImgStyles(this.currentImageSize);\r\n            var dummyImgContentImg = document.createElement('img');\r\n            dummyImgContentImg.alt = alt || '';\r\n            dummyImgContentImg.src = _dummyImgSrc;\r\n            dummyImgContentImg.className = \"lg-dummy-img\";\r\n            dummyImgContentImg.style.cssText = imgStyle;\r\n            $currentSlide.addClass('lg-first-slide');\r\n            this.outer.addClass('lg-first-slide-loading');\r\n            return dummyImgContentImg;\r\n        }\r\n        return '';\r\n    };\r\n    LightGallery.prototype.setImgMarkup = function (src, $currentSlide, index) {\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        var alt = currentGalleryItem.alt, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;\r\n        // Use the thumbnail as dummy image which will be resized to actual image size and\r\n        // displayed on top of actual image\r\n        var imgContent = '';\r\n        var altAttr = alt ? 'alt=\"' + alt + '\"' : '';\r\n        if (this.isFirstSlideWithZoomAnimation()) {\r\n            imgContent = this.getDummyImageContent($currentSlide, index, altAttr);\r\n        }\r\n        else {\r\n            imgContent = utils.getImgMarkup(index, src, altAttr, srcset, sizes, sources);\r\n        }\r\n        var picture = document.createElement('picture');\r\n        picture.className = 'lg-img-wrap';\r\n        $LG(picture).append(imgContent);\r\n        $currentSlide.prepend(picture);\r\n    };\r\n    LightGallery.prototype.onSlideObjectLoad = function ($slide, isHTML5VideoWithoutPoster, onLoad, onError) {\r\n        var mediaObject = $slide.find('.lg-object').first();\r\n        if (utils.isImageLoaded(mediaObject.get()) ||\r\n            isHTML5VideoWithoutPoster) {\r\n            onLoad();\r\n        }\r\n        else {\r\n            mediaObject.on('load.lg error.lg', function () {\r\n                onLoad && onLoad();\r\n            });\r\n            mediaObject.on('error.lg', function () {\r\n                onError && onError();\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param $el Current slide item\r\n     * @param index\r\n     * @param delay Delay is 0 except first time\r\n     * @param speed Speed is same as delay, except it is 0 if gallery is opened via hash plugin\r\n     * @param isFirstSlide\r\n     */\r\n    LightGallery.prototype.onLgObjectLoad = function (currentSlide, index, delay, speed, isFirstSlide, isHTML5VideoWithoutPoster) {\r\n        var _this = this;\r\n        this.onSlideObjectLoad(currentSlide, isHTML5VideoWithoutPoster, function () {\r\n            _this.triggerSlideItemLoad(currentSlide, index, delay, speed, isFirstSlide);\r\n        }, function () {\r\n            currentSlide.addClass('lg-complete lg-complete_');\r\n            currentSlide.html('<span class=\"lg-error-msg\">' +\r\n                _this.settings.strings['mediaLoadingFailed'] +\r\n                '</span>');\r\n        });\r\n    };\r\n    LightGallery.prototype.triggerSlideItemLoad = function ($currentSlide, index, delay, speed, isFirstSlide) {\r\n        var _this = this;\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        // Adding delay for video slides without poster for better performance and user experience\r\n        // Videos should start playing once once the gallery is completely loaded\r\n        var _speed = isFirstSlide &&\r\n            this.getSlideType(currentGalleryItem) === 'video' &&\r\n            !currentGalleryItem.poster\r\n            ? speed\r\n            : 0;\r\n        setTimeout(function () {\r\n            $currentSlide.addClass('lg-complete lg-complete_');\r\n            _this.LGel.trigger(lGEvents.slideItemLoad, {\r\n                index: index,\r\n                delay: delay || 0,\r\n                isFirstSlide: isFirstSlide,\r\n            });\r\n        }, _speed);\r\n    };\r\n    LightGallery.prototype.isFirstSlideWithZoomAnimation = function () {\r\n        return !!(!this.lGalleryOn &&\r\n            this.zoomFromOrigin &&\r\n            this.currentImageSize);\r\n    };\r\n    // Add video slideInfo\r\n    LightGallery.prototype.addSlideVideoInfo = function (items) {\r\n        var _this = this;\r\n        items.forEach(function (element, index) {\r\n            element.__slideVideoInfo = utils.isVideo(element.src, !!element.video, index);\r\n            if (element.__slideVideoInfo &&\r\n                _this.settings.loadYouTubePoster &&\r\n                !element.poster &&\r\n                element.__slideVideoInfo.youtube) {\r\n                element.poster = \"//img.youtube.com/vi/\" + element.__slideVideoInfo.youtube[1] + \"/maxresdefault.jpg\";\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     *  Load slide content into slide.\r\n     *  This is used to load content into slides that is not visible too\r\n     *  @param {Number} index - index of the slide.\r\n     *  @param {Boolean} rec - if true call loadcontent() function again.\r\n     */\r\n    LightGallery.prototype.loadContent = function (index, rec) {\r\n        var _this = this;\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        var $currentSlide = $LG(this.getSlideItemId(index));\r\n        var poster = currentGalleryItem.poster, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;\r\n        var src = currentGalleryItem.src;\r\n        var video = currentGalleryItem.video;\r\n        var _html5Video = video && typeof video === 'string' ? JSON.parse(video) : video;\r\n        if (currentGalleryItem.responsive) {\r\n            var srcDyItms = currentGalleryItem.responsive.split(',');\r\n            src = utils.getResponsiveSrc(srcDyItms) || src;\r\n        }\r\n        var videoInfo = currentGalleryItem.__slideVideoInfo;\r\n        var lgVideoStyle = '';\r\n        var iframe = !!currentGalleryItem.iframe;\r\n        var isFirstSlide = !this.lGalleryOn;\r\n        // delay for adding complete class. it is 0 except first time.\r\n        var delay = 0;\r\n        if (isFirstSlide) {\r\n            if (this.zoomFromOrigin && this.currentImageSize) {\r\n                delay = this.settings.startAnimationDuration + 10;\r\n            }\r\n            else {\r\n                delay = this.settings.backdropDuration + 10;\r\n            }\r\n        }\r\n        if (!$currentSlide.hasClass('lg-loaded')) {\r\n            if (videoInfo) {\r\n                var _a = this.mediaContainerPosition, top_2 = _a.top, bottom = _a.bottom;\r\n                var videoSize = utils.getSize(this.items[index], this.outer, top_2 + bottom, videoInfo && this.settings.videoMaxSize);\r\n                lgVideoStyle = this.getVideoContStyle(videoSize);\r\n            }\r\n            if (iframe) {\r\n                var markup = utils.getIframeMarkup(this.settings.iframeWidth, this.settings.iframeHeight, this.settings.iframeMaxWidth, this.settings.iframeMaxHeight, src, currentGalleryItem.iframeTitle);\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else if (poster) {\r\n                var dummyImg = '';\r\n                var hasStartAnimation = isFirstSlide &&\r\n                    this.zoomFromOrigin &&\r\n                    this.currentImageSize;\r\n                if (hasStartAnimation) {\r\n                    dummyImg = this.getDummyImageContent($currentSlide, index, '');\r\n                }\r\n                var markup = utils.getVideoPosterMarkup(poster, dummyImg || '', lgVideoStyle, this.settings.strings['playVideo'], videoInfo);\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else if (videoInfo) {\r\n                var markup = \"<div class=\\\"lg-video-cont \\\" style=\\\"\" + lgVideoStyle + \"\\\"></div>\";\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else {\r\n                this.setImgMarkup(src, $currentSlide, index);\r\n                if (srcset || sources) {\r\n                    var $img = $currentSlide.find('.lg-object');\r\n                    this.initPictureFill($img);\r\n                }\r\n            }\r\n            if (poster || videoInfo) {\r\n                this.LGel.trigger(lGEvents.hasVideo, {\r\n                    index: index,\r\n                    src: src,\r\n                    html5Video: _html5Video,\r\n                    hasPoster: !!poster,\r\n                });\r\n            }\r\n            this.LGel.trigger(lGEvents.afterAppendSlide, { index: index });\r\n            if (this.lGalleryOn &&\r\n                this.settings.appendSubHtmlTo === '.lg-item') {\r\n                this.addHtml(index);\r\n            }\r\n        }\r\n        // For first time add some delay for displaying the start animation.\r\n        var _speed = 0;\r\n        // Do not change the delay value because it is required for zoom plugin.\r\n        // If gallery opened from direct url (hash) speed value should be 0\r\n        if (delay && !$LG(document.body).hasClass('lg-from-hash')) {\r\n            _speed = delay;\r\n        }\r\n        // Only for first slide and zoomFromOrigin is enabled\r\n        if (this.isFirstSlideWithZoomAnimation()) {\r\n            setTimeout(function () {\r\n                $currentSlide\r\n                    .removeClass('lg-start-end-progress lg-start-progress')\r\n                    .removeAttr('style');\r\n            }, this.settings.startAnimationDuration + 100);\r\n            if (!$currentSlide.hasClass('lg-loaded')) {\r\n                setTimeout(function () {\r\n                    if (_this.getSlideType(currentGalleryItem) === 'image') {\r\n                        var alt = currentGalleryItem.alt;\r\n                        var altAttr = alt ? 'alt=\"' + alt + '\"' : '';\r\n                        $currentSlide\r\n                            .find('.lg-img-wrap')\r\n                            .append(utils.getImgMarkup(index, src, altAttr, srcset, sizes, currentGalleryItem.sources));\r\n                        if (srcset || sources) {\r\n                            var $img = $currentSlide.find('.lg-object');\r\n                            _this.initPictureFill($img);\r\n                        }\r\n                    }\r\n                    if (_this.getSlideType(currentGalleryItem) === 'image' ||\r\n                        (_this.getSlideType(currentGalleryItem) === 'video' &&\r\n                            poster)) {\r\n                        _this.onLgObjectLoad($currentSlide, index, delay, _speed, true, false);\r\n                        // load remaining slides once the slide is completely loaded\r\n                        _this.onSlideObjectLoad($currentSlide, !!(videoInfo && videoInfo.html5 && !poster), function () {\r\n                            _this.loadContentOnFirstSlideLoad(index, $currentSlide, _speed);\r\n                        }, function () {\r\n                            _this.loadContentOnFirstSlideLoad(index, $currentSlide, _speed);\r\n                        });\r\n                    }\r\n                }, this.settings.startAnimationDuration + 100);\r\n            }\r\n        }\r\n        // SLide content has been added to dom\r\n        $currentSlide.addClass('lg-loaded');\r\n        if (!this.isFirstSlideWithZoomAnimation() ||\r\n            (this.getSlideType(currentGalleryItem) === 'video' && !poster)) {\r\n            this.onLgObjectLoad($currentSlide, index, delay, _speed, isFirstSlide, !!(videoInfo && videoInfo.html5 && !poster));\r\n        }\r\n        // When gallery is opened once content is loaded (second time) need to add lg-complete class for css styling\r\n        if ((!this.zoomFromOrigin || !this.currentImageSize) &&\r\n            $currentSlide.hasClass('lg-complete_') &&\r\n            !this.lGalleryOn) {\r\n            setTimeout(function () {\r\n                $currentSlide.addClass('lg-complete');\r\n            }, this.settings.backdropDuration);\r\n        }\r\n        // Content loaded\r\n        // Need to set lGalleryOn before calling preload function\r\n        this.lGalleryOn = true;\r\n        if (rec === true) {\r\n            if (!$currentSlide.hasClass('lg-complete_')) {\r\n                $currentSlide\r\n                    .find('.lg-object')\r\n                    .first()\r\n                    .on('load.lg error.lg', function () {\r\n                    _this.preload(index);\r\n                });\r\n            }\r\n            else {\r\n                this.preload(index);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @desc Remove dummy image content and load next slides\r\n     * Called only for the first time if zoomFromOrigin animation is enabled\r\n     * @param index\r\n     * @param $currentSlide\r\n     * @param speed\r\n     */\r\n    LightGallery.prototype.loadContentOnFirstSlideLoad = function (index, $currentSlide, speed) {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            $currentSlide.find('.lg-dummy-img').remove();\r\n            $currentSlide.removeClass('lg-first-slide');\r\n            _this.outer.removeClass('lg-first-slide-loading');\r\n            _this.isDummyImageRemoved = true;\r\n            _this.preload(index);\r\n        }, speed + 300);\r\n    };\r\n    LightGallery.prototype.getItemsToBeInsertedToDom = function (index, prevIndex, numberOfItems) {\r\n        var _this = this;\r\n        if (numberOfItems === void 0) { numberOfItems = 0; }\r\n        var itemsToBeInsertedToDom = [];\r\n        // Minimum 2 items should be there\r\n        var possibleNumberOfItems = Math.max(numberOfItems, 3);\r\n        possibleNumberOfItems = Math.min(possibleNumberOfItems, this.galleryItems.length);\r\n        var prevIndexItem = \"lg-item-\" + this.lgId + \"-\" + prevIndex;\r\n        if (this.galleryItems.length <= 3) {\r\n            this.galleryItems.forEach(function (_element, index) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + _this.lgId + \"-\" + index);\r\n            });\r\n            return itemsToBeInsertedToDom;\r\n        }\r\n        if (index < (this.galleryItems.length - 1) / 2) {\r\n            for (var idx = index; idx > index - possibleNumberOfItems / 2 && idx >= 0; idx--) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + idx);\r\n            }\r\n            var numberOfExistingItems = itemsToBeInsertedToDom.length;\r\n            for (var idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (index + idx + 1));\r\n            }\r\n        }\r\n        else {\r\n            for (var idx = index; idx <= this.galleryItems.length - 1 &&\r\n                idx < index + possibleNumberOfItems / 2; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + idx);\r\n            }\r\n            var numberOfExistingItems = itemsToBeInsertedToDom.length;\r\n            for (var idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (index - idx - 1));\r\n            }\r\n        }\r\n        if (this.settings.loop) {\r\n            if (index === this.galleryItems.length - 1) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + 0);\r\n            }\r\n            else if (index === 0) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (this.galleryItems.length - 1));\r\n            }\r\n        }\r\n        if (itemsToBeInsertedToDom.indexOf(prevIndexItem) === -1) {\r\n            itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + prevIndex);\r\n        }\r\n        return itemsToBeInsertedToDom;\r\n    };\r\n    LightGallery.prototype.organizeSlideItems = function (index, prevIndex) {\r\n        var _this = this;\r\n        var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, prevIndex, this.settings.numberOfSlideItemsInDom);\r\n        itemsToBeInsertedToDom.forEach(function (item) {\r\n            if (_this.currentItemsInDom.indexOf(item) === -1) {\r\n                _this.$inner.append(\"<div id=\\\"\" + item + \"\\\" class=\\\"lg-item\\\"></div>\");\r\n            }\r\n        });\r\n        this.currentItemsInDom.forEach(function (item) {\r\n            if (itemsToBeInsertedToDom.indexOf(item) === -1) {\r\n                $LG(\"#\" + item).remove();\r\n            }\r\n        });\r\n        return itemsToBeInsertedToDom;\r\n    };\r\n    /**\r\n     * Get previous index of the slide\r\n     */\r\n    LightGallery.prototype.getPreviousSlideIndex = function () {\r\n        var prevIndex = 0;\r\n        try {\r\n            var currentItemId = this.outer\r\n                .find('.lg-current')\r\n                .first()\r\n                .attr('id');\r\n            prevIndex = parseInt(currentItemId.split('-')[3]) || 0;\r\n        }\r\n        catch (error) {\r\n            prevIndex = 0;\r\n        }\r\n        return prevIndex;\r\n    };\r\n    LightGallery.prototype.setDownloadValue = function (index) {\r\n        if (this.settings.download) {\r\n            var currentGalleryItem = this.galleryItems[index];\r\n            var hideDownloadBtn = currentGalleryItem.downloadUrl === false ||\r\n                currentGalleryItem.downloadUrl === 'false';\r\n            if (hideDownloadBtn) {\r\n                this.outer.addClass('lg-hide-download');\r\n            }\r\n            else {\r\n                var $download = this.getElementById('lg-download');\r\n                this.outer.removeClass('lg-hide-download');\r\n                $download.attr('href', currentGalleryItem.downloadUrl ||\r\n                    currentGalleryItem.src);\r\n                if (currentGalleryItem.download) {\r\n                    $download.attr('download', currentGalleryItem.download);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.makeSlideAnimation = function (direction, currentSlideItem, previousSlideItem) {\r\n        var _this = this;\r\n        if (this.lGalleryOn) {\r\n            previousSlideItem.addClass('lg-slide-progress');\r\n        }\r\n        setTimeout(function () {\r\n            // remove all transitions\r\n            _this.outer.addClass('lg-no-trans');\r\n            _this.outer\r\n                .find('.lg-item')\r\n                .removeClass('lg-prev-slide lg-next-slide');\r\n            if (direction === 'prev') {\r\n                //prevslide\r\n                currentSlideItem.addClass('lg-prev-slide');\r\n                previousSlideItem.addClass('lg-next-slide');\r\n            }\r\n            else {\r\n                // next slide\r\n                currentSlideItem.addClass('lg-next-slide');\r\n                previousSlideItem.addClass('lg-prev-slide');\r\n            }\r\n            // give 50 ms for browser to add/remove class\r\n            setTimeout(function () {\r\n                _this.outer.find('.lg-item').removeClass('lg-current');\r\n                currentSlideItem.addClass('lg-current');\r\n                // reset all transitions\r\n                _this.outer.removeClass('lg-no-trans');\r\n            }, 50);\r\n        }, this.lGalleryOn ? this.settings.slideDelay : 0);\r\n    };\r\n    /**\r\n     * Goto a specific slide.\r\n     * @param {Number} index - index of the slide\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\r\n     * @param {Boolean} fromThumb - true if slide function called via thumbnail click\r\n     * @param {String} direction - Direction of the slide(next/prev)\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  // to go to 3rd slide\r\n     *  plugin.slide(2);\r\n     *\r\n     */\r\n    LightGallery.prototype.slide = function (index, fromTouch, fromThumb, direction) {\r\n        var _this = this;\r\n        var prevIndex = this.getPreviousSlideIndex();\r\n        this.currentItemsInDom = this.organizeSlideItems(index, prevIndex);\r\n        // Prevent multiple call, Required for hsh plugin\r\n        if (this.lGalleryOn && prevIndex === index) {\r\n            return;\r\n        }\r\n        var numberOfGalleryItems = this.galleryItems.length;\r\n        if (!this.lgBusy) {\r\n            if (this.settings.counter) {\r\n                this.updateCurrentCounter(index);\r\n            }\r\n            var currentSlideItem = this.getSlideItem(index);\r\n            var previousSlideItem_1 = this.getSlideItem(prevIndex);\r\n            var currentGalleryItem = this.galleryItems[index];\r\n            var videoInfo = currentGalleryItem.__slideVideoInfo;\r\n            this.outer.attr('data-lg-slide-type', this.getSlideType(currentGalleryItem));\r\n            this.setDownloadValue(index);\r\n            if (videoInfo) {\r\n                var _a = this.mediaContainerPosition, top_3 = _a.top, bottom = _a.bottom;\r\n                var videoSize = utils.getSize(this.items[index], this.outer, top_3 + bottom, videoInfo && this.settings.videoMaxSize);\r\n                this.resizeVideoSlide(index, videoSize);\r\n            }\r\n            this.LGel.trigger(lGEvents.beforeSlide, {\r\n                prevIndex: prevIndex,\r\n                index: index,\r\n                fromTouch: !!fromTouch,\r\n                fromThumb: !!fromThumb,\r\n            });\r\n            this.lgBusy = true;\r\n            clearTimeout(this.hideBarTimeout);\r\n            this.arrowDisable(index);\r\n            if (!direction) {\r\n                if (index < prevIndex) {\r\n                    direction = 'prev';\r\n                }\r\n                else if (index > prevIndex) {\r\n                    direction = 'next';\r\n                }\r\n            }\r\n            if (!fromTouch) {\r\n                this.makeSlideAnimation(direction, currentSlideItem, previousSlideItem_1);\r\n            }\r\n            else {\r\n                this.outer\r\n                    .find('.lg-item')\r\n                    .removeClass('lg-prev-slide lg-current lg-next-slide');\r\n                var touchPrev = void 0;\r\n                var touchNext = void 0;\r\n                if (numberOfGalleryItems > 2) {\r\n                    touchPrev = index - 1;\r\n                    touchNext = index + 1;\r\n                    if (index === 0 && prevIndex === numberOfGalleryItems - 1) {\r\n                        // next slide\r\n                        touchNext = 0;\r\n                        touchPrev = numberOfGalleryItems - 1;\r\n                    }\r\n                    else if (index === numberOfGalleryItems - 1 &&\r\n                        prevIndex === 0) {\r\n                        // prev slide\r\n                        touchNext = 0;\r\n                        touchPrev = numberOfGalleryItems - 1;\r\n                    }\r\n                }\r\n                else {\r\n                    touchPrev = 0;\r\n                    touchNext = 1;\r\n                }\r\n                if (direction === 'prev') {\r\n                    this.getSlideItem(touchNext).addClass('lg-next-slide');\r\n                }\r\n                else {\r\n                    this.getSlideItem(touchPrev).addClass('lg-prev-slide');\r\n                }\r\n                currentSlideItem.addClass('lg-current');\r\n            }\r\n            // Do not put load content in set timeout as it needs to load immediately when the gallery is opened\r\n            if (!this.lGalleryOn) {\r\n                this.loadContent(index, true);\r\n            }\r\n            else {\r\n                setTimeout(function () {\r\n                    _this.loadContent(index, true);\r\n                    // Add title if this.settings.appendSubHtmlTo === lg-sub-html\r\n                    if (_this.settings.appendSubHtmlTo !== '.lg-item') {\r\n                        _this.addHtml(index);\r\n                    }\r\n                }, this.settings.speed + 50 + (fromTouch ? 0 : this.settings.slideDelay));\r\n            }\r\n            setTimeout(function () {\r\n                _this.lgBusy = false;\r\n                previousSlideItem_1.removeClass('lg-slide-progress');\r\n                _this.LGel.trigger(lGEvents.afterSlide, {\r\n                    prevIndex: prevIndex,\r\n                    index: index,\r\n                    fromTouch: fromTouch,\r\n                    fromThumb: fromThumb,\r\n                });\r\n            }, (this.lGalleryOn ? this.settings.speed + 100 : 100) + (fromTouch ? 0 : this.settings.slideDelay));\r\n        }\r\n        this.index = index;\r\n    };\r\n    LightGallery.prototype.updateCurrentCounter = function (index) {\r\n        this.getElementById('lg-counter-current').html(index + 1 + '');\r\n    };\r\n    LightGallery.prototype.updateCounterTotal = function () {\r\n        this.getElementById('lg-counter-all').html(this.galleryItems.length + '');\r\n    };\r\n    LightGallery.prototype.getSlideType = function (item) {\r\n        if (item.__slideVideoInfo) {\r\n            return 'video';\r\n        }\r\n        else if (item.iframe) {\r\n            return 'iframe';\r\n        }\r\n        else {\r\n            return 'image';\r\n        }\r\n    };\r\n    LightGallery.prototype.touchMove = function (startCoords, endCoords, e) {\r\n        var distanceX = endCoords.pageX - startCoords.pageX;\r\n        var distanceY = endCoords.pageY - startCoords.pageY;\r\n        var allowSwipe = false;\r\n        if (this.swipeDirection) {\r\n            allowSwipe = true;\r\n        }\r\n        else {\r\n            if (Math.abs(distanceX) > 15) {\r\n                this.swipeDirection = 'horizontal';\r\n                allowSwipe = true;\r\n            }\r\n            else if (Math.abs(distanceY) > 15) {\r\n                this.swipeDirection = 'vertical';\r\n                allowSwipe = true;\r\n            }\r\n        }\r\n        if (!allowSwipe) {\r\n            return;\r\n        }\r\n        var $currentSlide = this.getSlideItem(this.index);\r\n        if (this.swipeDirection === 'horizontal') {\r\n            e === null || e === void 0 ? void 0 : e.preventDefault();\r\n            // reset opacity and transition duration\r\n            this.outer.addClass('lg-dragging');\r\n            // move current slide\r\n            this.setTranslate($currentSlide, distanceX, 0);\r\n            // move next and prev slide with current slide\r\n            var width = $currentSlide.get().offsetWidth;\r\n            var slideWidthAmount = (width * 15) / 100;\r\n            var gutter = slideWidthAmount - Math.abs((distanceX * 10) / 100);\r\n            this.setTranslate(this.outer.find('.lg-prev-slide').first(), -width + distanceX - gutter, 0);\r\n            this.setTranslate(this.outer.find('.lg-next-slide').first(), width + distanceX + gutter, 0);\r\n        }\r\n        else if (this.swipeDirection === 'vertical') {\r\n            if (this.settings.swipeToClose) {\r\n                e === null || e === void 0 ? void 0 : e.preventDefault();\r\n                this.$container.addClass('lg-dragging-vertical');\r\n                var opacity = 1 - Math.abs(distanceY) / window.innerHeight;\r\n                this.$backdrop.css('opacity', opacity);\r\n                var scale = 1 - Math.abs(distanceY) / (window.innerWidth * 2);\r\n                this.setTranslate($currentSlide, 0, distanceY, scale, scale);\r\n                if (Math.abs(distanceY) > 100) {\r\n                    this.outer\r\n                        .addClass('lg-hide-items')\r\n                        .removeClass('lg-components-open');\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.touchEnd = function (endCoords, startCoords, event) {\r\n        var _this = this;\r\n        var distance;\r\n        // keep slide animation for any mode while dragg/swipe\r\n        if (this.settings.mode !== 'lg-slide') {\r\n            this.outer.addClass('lg-slide');\r\n        }\r\n        // set transition duration\r\n        setTimeout(function () {\r\n            _this.$container.removeClass('lg-dragging-vertical');\r\n            _this.outer\r\n                .removeClass('lg-dragging lg-hide-items')\r\n                .addClass('lg-components-open');\r\n            var triggerClick = true;\r\n            if (_this.swipeDirection === 'horizontal') {\r\n                distance = endCoords.pageX - startCoords.pageX;\r\n                var distanceAbs = Math.abs(endCoords.pageX - startCoords.pageX);\r\n                if (distance < 0 &&\r\n                    distanceAbs > _this.settings.swipeThreshold) {\r\n                    _this.goToNextSlide(true);\r\n                    triggerClick = false;\r\n                }\r\n                else if (distance > 0 &&\r\n                    distanceAbs > _this.settings.swipeThreshold) {\r\n                    _this.goToPrevSlide(true);\r\n                    triggerClick = false;\r\n                }\r\n            }\r\n            else if (_this.swipeDirection === 'vertical') {\r\n                distance = Math.abs(endCoords.pageY - startCoords.pageY);\r\n                if (_this.settings.closable &&\r\n                    _this.settings.swipeToClose &&\r\n                    distance > 100) {\r\n                    _this.closeGallery();\r\n                    return;\r\n                }\r\n                else {\r\n                    _this.$backdrop.css('opacity', 1);\r\n                }\r\n            }\r\n            _this.outer.find('.lg-item').removeAttr('style');\r\n            if (triggerClick &&\r\n                Math.abs(endCoords.pageX - startCoords.pageX) < 5) {\r\n                // Trigger click if distance is less than 5 pix\r\n                var target = $LG(event.target);\r\n                if (_this.isPosterElement(target)) {\r\n                    _this.LGel.trigger(lGEvents.posterClick);\r\n                }\r\n            }\r\n            _this.swipeDirection = undefined;\r\n        });\r\n        // remove slide class once drag/swipe is completed if mode is not slide\r\n        setTimeout(function () {\r\n            if (!_this.outer.hasClass('lg-dragging') &&\r\n                _this.settings.mode !== 'lg-slide') {\r\n                _this.outer.removeClass('lg-slide');\r\n            }\r\n        }, this.settings.speed + 100);\r\n    };\r\n    LightGallery.prototype.enableSwipe = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isMoved = false;\r\n        var isSwiping = false;\r\n        if (this.settings.enableSwipe) {\r\n            this.$inner.on('touchstart.lg', function (e) {\r\n                _this.dragOrSwipeEnabled = true;\r\n                var $item = _this.getSlideItem(_this.index);\r\n                if (($LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target)) &&\r\n                    !_this.outer.hasClass('lg-zoomed') &&\r\n                    !_this.lgBusy &&\r\n                    e.touches.length === 1) {\r\n                    isSwiping = true;\r\n                    _this.touchAction = 'swipe';\r\n                    _this.manageSwipeClass();\r\n                    startCoords = {\r\n                        pageX: e.touches[0].pageX,\r\n                        pageY: e.touches[0].pageY,\r\n                    };\r\n                }\r\n            });\r\n            this.$inner.on('touchmove.lg', function (e) {\r\n                if (isSwiping &&\r\n                    _this.touchAction === 'swipe' &&\r\n                    e.touches.length === 1) {\r\n                    endCoords = {\r\n                        pageX: e.touches[0].pageX,\r\n                        pageY: e.touches[0].pageY,\r\n                    };\r\n                    _this.touchMove(startCoords, endCoords, e);\r\n                    isMoved = true;\r\n                }\r\n            });\r\n            this.$inner.on('touchend.lg', function (event) {\r\n                if (_this.touchAction === 'swipe') {\r\n                    if (isMoved) {\r\n                        isMoved = false;\r\n                        _this.touchEnd(endCoords, startCoords, event);\r\n                    }\r\n                    else if (isSwiping) {\r\n                        var target = $LG(event.target);\r\n                        if (_this.isPosterElement(target)) {\r\n                            _this.LGel.trigger(lGEvents.posterClick);\r\n                        }\r\n                    }\r\n                    _this.touchAction = undefined;\r\n                    isSwiping = false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    LightGallery.prototype.enableDrag = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isDraging = false;\r\n        var isMoved = false;\r\n        if (this.settings.enableDrag) {\r\n            this.outer.on('mousedown.lg', function (e) {\r\n                _this.dragOrSwipeEnabled = true;\r\n                var $item = _this.getSlideItem(_this.index);\r\n                if ($LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target)) {\r\n                    if (!_this.outer.hasClass('lg-zoomed') && !_this.lgBusy) {\r\n                        e.preventDefault();\r\n                        if (!_this.lgBusy) {\r\n                            _this.manageSwipeClass();\r\n                            startCoords = {\r\n                                pageX: e.pageX,\r\n                                pageY: e.pageY,\r\n                            };\r\n                            isDraging = true;\r\n                            // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\r\n                            _this.outer.get().scrollLeft += 1;\r\n                            _this.outer.get().scrollLeft -= 1;\r\n                            // *\r\n                            _this.outer\r\n                                .removeClass('lg-grab')\r\n                                .addClass('lg-grabbing');\r\n                            _this.LGel.trigger(lGEvents.dragStart);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            $LG(window).on(\"mousemove.lg.global\" + this.lgId, function (e) {\r\n                if (isDraging && _this.lgOpened) {\r\n                    isMoved = true;\r\n                    endCoords = {\r\n                        pageX: e.pageX,\r\n                        pageY: e.pageY,\r\n                    };\r\n                    _this.touchMove(startCoords, endCoords);\r\n                    _this.LGel.trigger(lGEvents.dragMove);\r\n                }\r\n            });\r\n            $LG(window).on(\"mouseup.lg.global\" + this.lgId, function (event) {\r\n                if (!_this.lgOpened) {\r\n                    return;\r\n                }\r\n                var target = $LG(event.target);\r\n                if (isMoved) {\r\n                    isMoved = false;\r\n                    _this.touchEnd(endCoords, startCoords, event);\r\n                    _this.LGel.trigger(lGEvents.dragEnd);\r\n                }\r\n                else if (_this.isPosterElement(target)) {\r\n                    _this.LGel.trigger(lGEvents.posterClick);\r\n                }\r\n                // Prevent execution on click\r\n                if (isDraging) {\r\n                    isDraging = false;\r\n                    _this.outer.removeClass('lg-grabbing').addClass('lg-grab');\r\n                }\r\n            });\r\n        }\r\n    };\r\n    LightGallery.prototype.triggerPosterClick = function () {\r\n        var _this = this;\r\n        this.$inner.on('click.lg', function (event) {\r\n            if (!_this.dragOrSwipeEnabled &&\r\n                _this.isPosterElement($LG(event.target))) {\r\n                _this.LGel.trigger(lGEvents.posterClick);\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.manageSwipeClass = function () {\r\n        var _touchNext = this.index + 1;\r\n        var _touchPrev = this.index - 1;\r\n        if (this.settings.loop && this.galleryItems.length > 2) {\r\n            if (this.index === 0) {\r\n                _touchPrev = this.galleryItems.length - 1;\r\n            }\r\n            else if (this.index === this.galleryItems.length - 1) {\r\n                _touchNext = 0;\r\n            }\r\n        }\r\n        this.outer.find('.lg-item').removeClass('lg-next-slide lg-prev-slide');\r\n        if (_touchPrev > -1) {\r\n            this.getSlideItem(_touchPrev).addClass('lg-prev-slide');\r\n        }\r\n        this.getSlideItem(_touchNext).addClass('lg-next-slide');\r\n    };\r\n    /**\r\n     * Go to next slide\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.goToNextSlide();\r\n     * @see <a href=\"/demos/methods/\">Demo</a>\r\n     */\r\n    LightGallery.prototype.goToNextSlide = function (fromTouch) {\r\n        var _this = this;\r\n        var _loop = this.settings.loop;\r\n        if (fromTouch && this.galleryItems.length < 3) {\r\n            _loop = false;\r\n        }\r\n        if (!this.lgBusy) {\r\n            if (this.index + 1 < this.galleryItems.length) {\r\n                this.index++;\r\n                this.LGel.trigger(lGEvents.beforeNextSlide, {\r\n                    index: this.index,\r\n                });\r\n                this.slide(this.index, !!fromTouch, false, 'next');\r\n            }\r\n            else {\r\n                if (_loop) {\r\n                    this.index = 0;\r\n                    this.LGel.trigger(lGEvents.beforeNextSlide, {\r\n                        index: this.index,\r\n                    });\r\n                    this.slide(this.index, !!fromTouch, false, 'next');\r\n                }\r\n                else if (this.settings.slideEndAnimation && !fromTouch) {\r\n                    this.outer.addClass('lg-right-end');\r\n                    setTimeout(function () {\r\n                        _this.outer.removeClass('lg-right-end');\r\n                    }, 400);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Go to previous slides\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery({});\r\n     *  plugin.goToPrevSlide();\r\n     * @see <a href=\"/demos/methods/\">Demo</a>\r\n     *\r\n     */\r\n    LightGallery.prototype.goToPrevSlide = function (fromTouch) {\r\n        var _this = this;\r\n        var _loop = this.settings.loop;\r\n        if (fromTouch && this.galleryItems.length < 3) {\r\n            _loop = false;\r\n        }\r\n        if (!this.lgBusy) {\r\n            if (this.index > 0) {\r\n                this.index--;\r\n                this.LGel.trigger(lGEvents.beforePrevSlide, {\r\n                    index: this.index,\r\n                    fromTouch: fromTouch,\r\n                });\r\n                this.slide(this.index, !!fromTouch, false, 'prev');\r\n            }\r\n            else {\r\n                if (_loop) {\r\n                    this.index = this.galleryItems.length - 1;\r\n                    this.LGel.trigger(lGEvents.beforePrevSlide, {\r\n                        index: this.index,\r\n                        fromTouch: fromTouch,\r\n                    });\r\n                    this.slide(this.index, !!fromTouch, false, 'prev');\r\n                }\r\n                else if (this.settings.slideEndAnimation && !fromTouch) {\r\n                    this.outer.addClass('lg-left-end');\r\n                    setTimeout(function () {\r\n                        _this.outer.removeClass('lg-left-end');\r\n                    }, 400);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.keyPress = function () {\r\n        var _this = this;\r\n        $LG(window).on(\"keydown.lg.global\" + this.lgId, function (e) {\r\n            if (_this.lgOpened &&\r\n                _this.settings.escKey === true &&\r\n                e.keyCode === 27) {\r\n                e.preventDefault();\r\n                if (_this.settings.allowMediaOverlap &&\r\n                    _this.outer.hasClass('lg-can-toggle') &&\r\n                    _this.outer.hasClass('lg-components-open')) {\r\n                    _this.outer.removeClass('lg-components-open');\r\n                }\r\n                else {\r\n                    _this.closeGallery();\r\n                }\r\n            }\r\n            if (_this.lgOpened && _this.galleryItems.length > 1) {\r\n                if (e.keyCode === 37) {\r\n                    e.preventDefault();\r\n                    _this.goToPrevSlide();\r\n                }\r\n                if (e.keyCode === 39) {\r\n                    e.preventDefault();\r\n                    _this.goToNextSlide();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.arrow = function () {\r\n        var _this = this;\r\n        this.getElementById('lg-prev').on('click.lg', function () {\r\n            _this.goToPrevSlide();\r\n        });\r\n        this.getElementById('lg-next').on('click.lg', function () {\r\n            _this.goToNextSlide();\r\n        });\r\n    };\r\n    LightGallery.prototype.arrowDisable = function (index) {\r\n        // Disable arrows if settings.hideControlOnEnd is true\r\n        if (!this.settings.loop && this.settings.hideControlOnEnd) {\r\n            var $prev = this.getElementById('lg-prev');\r\n            var $next = this.getElementById('lg-next');\r\n            if (index + 1 === this.galleryItems.length) {\r\n                $next.attr('disabled', 'disabled').addClass('disabled');\r\n            }\r\n            else {\r\n                $next.removeAttr('disabled').removeClass('disabled');\r\n            }\r\n            if (index === 0) {\r\n                $prev.attr('disabled', 'disabled').addClass('disabled');\r\n            }\r\n            else {\r\n                $prev.removeAttr('disabled').removeClass('disabled');\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.setTranslate = function ($el, xValue, yValue, scaleX, scaleY) {\r\n        if (scaleX === void 0) { scaleX = 1; }\r\n        if (scaleY === void 0) { scaleY = 1; }\r\n        $el.css('transform', 'translate3d(' +\r\n            xValue +\r\n            'px, ' +\r\n            yValue +\r\n            'px, 0px) scale3d(' +\r\n            scaleX +\r\n            ', ' +\r\n            scaleY +\r\n            ', 1)');\r\n    };\r\n    LightGallery.prototype.mousewheel = function () {\r\n        var _this = this;\r\n        var lastCall = 0;\r\n        this.outer.on('wheel.lg', function (e) {\r\n            if (!e.deltaY || _this.galleryItems.length < 2) {\r\n                return;\r\n            }\r\n            e.preventDefault();\r\n            var now = new Date().getTime();\r\n            if (now - lastCall < 1000) {\r\n                return;\r\n            }\r\n            lastCall = now;\r\n            if (e.deltaY > 0) {\r\n                _this.goToNextSlide();\r\n            }\r\n            else if (e.deltaY < 0) {\r\n                _this.goToPrevSlide();\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.isSlideElement = function (target) {\r\n        return (target.hasClass('lg-outer') ||\r\n            target.hasClass('lg-item') ||\r\n            target.hasClass('lg-img-wrap') ||\r\n            target.hasClass('lg-img-rotate'));\r\n    };\r\n    LightGallery.prototype.isPosterElement = function (target) {\r\n        var playButton = this.getSlideItem(this.index)\r\n            .find('.lg-video-play-button')\r\n            .get();\r\n        return (target.hasClass('lg-video-poster') ||\r\n            target.hasClass('lg-video-play-button') ||\r\n            (playButton && playButton.contains(target.get())));\r\n    };\r\n    /**\r\n     * Maximize minimize inline gallery.\r\n     * @category lGPublicMethods\r\n     */\r\n    LightGallery.prototype.toggleMaximize = function () {\r\n        var _this = this;\r\n        this.getElementById('lg-maximize').on('click.lg', function () {\r\n            _this.$container.toggleClass('lg-inline');\r\n            _this.refreshOnResize();\r\n        });\r\n    };\r\n    LightGallery.prototype.invalidateItems = function () {\r\n        for (var index = 0; index < this.items.length; index++) {\r\n            var element = this.items[index];\r\n            var $element = $LG(element);\r\n            $element.off(\"click.lgcustom-item-\" + $element.attr('data-lg-id'));\r\n        }\r\n    };\r\n    LightGallery.prototype.trapFocus = function () {\r\n        var _this = this;\r\n        this.$container.get().focus({\r\n            preventScroll: true,\r\n        });\r\n        $LG(window).on(\"keydown.lg.global\" + this.lgId, function (e) {\r\n            if (!_this.lgOpened) {\r\n                return;\r\n            }\r\n            var isTabPressed = e.key === 'Tab' || e.keyCode === 9;\r\n            if (!isTabPressed) {\r\n                return;\r\n            }\r\n            var focusableEls = utils.getFocusableElements(_this.$container.get());\r\n            var firstFocusableEl = focusableEls[0];\r\n            var lastFocusableEl = focusableEls[focusableEls.length - 1];\r\n            if (e.shiftKey) {\r\n                if (document.activeElement === firstFocusableEl) {\r\n                    lastFocusableEl.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n            else {\r\n                if (document.activeElement === lastFocusableEl) {\r\n                    firstFocusableEl.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.manageCloseGallery = function () {\r\n        var _this = this;\r\n        if (!this.settings.closable)\r\n            return;\r\n        var mousedown = false;\r\n        this.getElementById('lg-close').on('click.lg', function () {\r\n            _this.closeGallery();\r\n        });\r\n        if (this.settings.closeOnTap) {\r\n            // If you drag the slide and release outside gallery gets close on chrome\r\n            // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\r\n            this.outer.on('mousedown.lg', function (e) {\r\n                var target = $LG(e.target);\r\n                if (_this.isSlideElement(target)) {\r\n                    mousedown = true;\r\n                }\r\n                else {\r\n                    mousedown = false;\r\n                }\r\n            });\r\n            this.outer.on('mousemove.lg', function () {\r\n                mousedown = false;\r\n            });\r\n            this.outer.on('mouseup.lg', function (e) {\r\n                var target = $LG(e.target);\r\n                if (_this.isSlideElement(target) && mousedown) {\r\n                    if (!_this.outer.hasClass('lg-dragging')) {\r\n                        _this.closeGallery();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Close lightGallery if it is opened.\r\n     *\r\n     * @description If closable is false in the settings, you need to pass true via closeGallery method to force close gallery\r\n     * @return returns the estimated time to close gallery completely including the close animation duration\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.closeGallery();\r\n     *\r\n     */\r\n    LightGallery.prototype.closeGallery = function (force) {\r\n        var _this = this;\r\n        if (!this.lgOpened || (!this.settings.closable && !force)) {\r\n            return 0;\r\n        }\r\n        this.LGel.trigger(lGEvents.beforeClose);\r\n        if (this.settings.resetScrollPosition && !this.settings.hideScrollbar) {\r\n            $LG(window).scrollTop(this.prevScrollTop);\r\n        }\r\n        var currentItem = this.items[this.index];\r\n        var transform;\r\n        if (this.zoomFromOrigin && currentItem) {\r\n            var _a = this.mediaContainerPosition, top_4 = _a.top, bottom = _a.bottom;\r\n            var _b = this.galleryItems[this.index], __slideVideoInfo = _b.__slideVideoInfo, poster = _b.poster;\r\n            var imageSize = utils.getSize(currentItem, this.outer, top_4 + bottom, __slideVideoInfo && poster && this.settings.videoMaxSize);\r\n            transform = utils.getTransform(currentItem, this.outer, top_4, bottom, imageSize);\r\n        }\r\n        if (this.zoomFromOrigin && transform) {\r\n            this.outer.addClass('lg-closing lg-zoom-from-image');\r\n            this.getSlideItem(this.index)\r\n                .addClass('lg-start-end-progress')\r\n                .css('transition-duration', this.settings.startAnimationDuration + 'ms')\r\n                .css('transform', transform);\r\n        }\r\n        else {\r\n            this.outer.addClass('lg-hide-items');\r\n            // lg-zoom-from-image is used for setting the opacity to 1 if zoomFromOrigin is true\r\n            // If the closing item doesn't have the lg-size attribute, remove this class to avoid the closing css conflicts\r\n            this.outer.removeClass('lg-zoom-from-image');\r\n        }\r\n        // Unbind all events added by lightGallery\r\n        // @todo\r\n        //this.$el.off('.lg.tm');\r\n        this.destroyModules();\r\n        this.lGalleryOn = false;\r\n        this.isDummyImageRemoved = false;\r\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\r\n        clearTimeout(this.hideBarTimeout);\r\n        this.hideBarTimeout = false;\r\n        $LG('html').removeClass('lg-on');\r\n        this.outer.removeClass('lg-visible lg-components-open');\r\n        // Resetting opacity to 0 isd required as  vertical swipe to close function adds inline opacity.\r\n        this.$backdrop.removeClass('in').css('opacity', 0);\r\n        var removeTimeout = this.zoomFromOrigin && transform\r\n            ? Math.max(this.settings.startAnimationDuration, this.settings.backdropDuration)\r\n            : this.settings.backdropDuration;\r\n        this.$container.removeClass('lg-show-in');\r\n        // Once the closign animation is completed and gallery is invisible\r\n        setTimeout(function () {\r\n            if (_this.zoomFromOrigin && transform) {\r\n                _this.outer.removeClass('lg-zoom-from-image');\r\n            }\r\n            _this.$container.removeClass('lg-show');\r\n            // Reset scrollbar\r\n            _this.resetScrollBar();\r\n            // Need to remove inline opacity as it is used in the stylesheet as well\r\n            _this.$backdrop\r\n                .removeAttr('style')\r\n                .css('transition-duration', _this.settings.backdropDuration + 'ms');\r\n            _this.outer.removeClass(\"lg-closing \" + _this.settings.startClass);\r\n            _this.getSlideItem(_this.index).removeClass('lg-start-end-progress');\r\n            _this.$inner.empty();\r\n            if (_this.lgOpened) {\r\n                _this.LGel.trigger(lGEvents.afterClose, {\r\n                    instance: _this,\r\n                });\r\n            }\r\n            if (_this.$container.get()) {\r\n                _this.$container.get().blur();\r\n            }\r\n            _this.lgOpened = false;\r\n        }, removeTimeout + 100);\r\n        return removeTimeout + 100;\r\n    };\r\n    LightGallery.prototype.initModules = function () {\r\n        this.plugins.forEach(function (module) {\r\n            try {\r\n                module.init();\r\n            }\r\n            catch (err) {\r\n                console.warn(\"lightGallery:- make sure lightGallery module is properly initiated\");\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.destroyModules = function (destroy) {\r\n        this.plugins.forEach(function (module) {\r\n            try {\r\n                if (destroy) {\r\n                    module.destroy();\r\n                }\r\n                else {\r\n                    module.closeGallery && module.closeGallery();\r\n                }\r\n            }\r\n            catch (err) {\r\n                console.warn(\"lightGallery:- make sure lightGallery module is properly destroyed\");\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Refresh lightGallery with new set of children.\r\n     *\r\n     * @description This is useful to update the gallery when the child elements are changed without calling destroy method.\r\n     *\r\n     * If you are using dynamic mode, you can pass the modified array of dynamicEl as the first parameter to refresh the dynamic gallery\r\n     * @see <a href=\"/demos/dynamic-mode/\">Demo</a>\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  // Delete or add children, then call\r\n     *  plugin.refresh();\r\n     *\r\n     */\r\n    LightGallery.prototype.refresh = function (galleryItems) {\r\n        if (!this.settings.dynamic) {\r\n            this.invalidateItems();\r\n        }\r\n        if (galleryItems) {\r\n            this.galleryItems = galleryItems;\r\n        }\r\n        else {\r\n            this.galleryItems = this.getItems();\r\n        }\r\n        this.updateControls();\r\n        this.openGalleryOnItemClick();\r\n        this.LGel.trigger(lGEvents.updateSlides);\r\n    };\r\n    LightGallery.prototype.updateControls = function () {\r\n        this.addSlideVideoInfo(this.galleryItems);\r\n        this.updateCounterTotal();\r\n        this.manageSingleSlideClassName();\r\n    };\r\n    LightGallery.prototype.destroyGallery = function () {\r\n        this.destroyModules(true);\r\n        if (!this.settings.dynamic) {\r\n            this.invalidateItems();\r\n        }\r\n        $LG(window).off(\".lg.global\" + this.lgId);\r\n        this.LGel.off('.lg');\r\n        this.$container.remove();\r\n    };\r\n    /**\r\n     * Destroy lightGallery.\r\n     * Destroy lightGallery and its plugin instances completely\r\n     *\r\n     * @description This method also calls CloseGallery function internally. Returns the time takes to completely close and destroy the instance.\r\n     * In case if you want to re-initialize lightGallery right after destroying it, initialize it only once the destroy process is completed.\r\n     * You can use refresh method most of the times.\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.destroy();\r\n     *\r\n     */\r\n    LightGallery.prototype.destroy = function () {\r\n        var closeTimeout = this.closeGallery(true);\r\n        if (closeTimeout) {\r\n            setTimeout(this.destroyGallery.bind(this), closeTimeout);\r\n        }\r\n        else {\r\n            this.destroyGallery();\r\n        }\r\n        return closeTimeout;\r\n    };\r\n    return LightGallery;\r\n}());\n\nfunction lightGallery(el, options) {\r\n    return new LightGallery(el, options);\r\n}\n\nexport default lightGallery;\n//# sourceMappingURL=lightgallery.es5.js.map\n","/*!\n * lightgallery | 2.8.2 | November 28th 2024\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n    autoplay: 'lgAutoplay',\r\n    autoplayStart: 'lgAutoplayStart',\r\n    autoplayStop: 'lgAutoplayStop',\r\n};\n\nvar autoplaySettings = {\r\n    autoplay: true,\r\n    slideShowAutoplay: false,\r\n    slideShowInterval: 5000,\r\n    progressBar: true,\r\n    forceSlideShowAutoplay: false,\r\n    autoplayControls: true,\r\n    appendAutoplayControlsTo: '.lg-toolbar',\r\n    autoplayPluginStrings: {\r\n        toggleAutoplay: 'Toggle Autoplay',\r\n    },\r\n};\n\n/**\r\n * Creates the autoplay plugin.\r\n * @param {object} element - lightGallery element\r\n */\r\nvar Autoplay = /** @class */ (function () {\r\n    function Autoplay(instance) {\r\n        this.core = instance;\r\n        // extend module default settings with lightGallery core settings\r\n        this.settings = __assign(__assign({}, autoplaySettings), this.core.settings);\r\n        return this;\r\n    }\r\n    Autoplay.prototype.init = function () {\r\n        var _this = this;\r\n        if (!this.settings.autoplay) {\r\n            return;\r\n        }\r\n        this.interval = false;\r\n        // Identify if slide happened from autoplay\r\n        this.fromAuto = true;\r\n        // Identify if autoplay canceled from touch/drag\r\n        this.pausedOnTouchDrag = false;\r\n        this.pausedOnSlideChange = false;\r\n        // append autoplay controls\r\n        if (this.settings.autoplayControls) {\r\n            this.controls();\r\n        }\r\n        // Create progress bar\r\n        if (this.settings.progressBar) {\r\n            this.core.outer.append('<div class=\"lg-progress-bar\"><div class=\"lg-progress\"></div></div>');\r\n        }\r\n        // Start autoplay\r\n        if (this.settings.slideShowAutoplay) {\r\n            this.core.LGel.once(lGEvents.slideItemLoad + \".autoplay\", function () {\r\n                _this.startAutoPlay();\r\n            });\r\n        }\r\n        // cancel interval on touchstart and dragstart\r\n        this.core.LGel.on(lGEvents.dragStart + \".autoplay touchstart.lg.autoplay\", function () {\r\n            if (_this.interval) {\r\n                _this.stopAutoPlay();\r\n                _this.pausedOnTouchDrag = true;\r\n            }\r\n        });\r\n        // restore autoplay if autoplay canceled from touchstart / dragstart\r\n        this.core.LGel.on(lGEvents.dragEnd + \".autoplay touchend.lg.autoplay\", function () {\r\n            if (!_this.interval && _this.pausedOnTouchDrag) {\r\n                _this.startAutoPlay();\r\n                _this.pausedOnTouchDrag = false;\r\n            }\r\n        });\r\n        this.core.LGel.on(lGEvents.beforeSlide + \".autoplay\", function () {\r\n            _this.showProgressBar();\r\n            if (!_this.fromAuto && _this.interval) {\r\n                _this.stopAutoPlay();\r\n                _this.pausedOnSlideChange = true;\r\n            }\r\n            else {\r\n                _this.pausedOnSlideChange = false;\r\n            }\r\n            _this.fromAuto = false;\r\n        });\r\n        // restore autoplay if autoplay canceled from touchstart / dragstart\r\n        this.core.LGel.on(lGEvents.afterSlide + \".autoplay\", function () {\r\n            if (_this.pausedOnSlideChange &&\r\n                !_this.interval &&\r\n                _this.settings.forceSlideShowAutoplay) {\r\n                _this.startAutoPlay();\r\n                _this.pausedOnSlideChange = false;\r\n            }\r\n        });\r\n        // set progress\r\n        this.showProgressBar();\r\n    };\r\n    Autoplay.prototype.showProgressBar = function () {\r\n        var _this = this;\r\n        if (this.settings.progressBar && this.fromAuto) {\r\n            var _$progressBar_1 = this.core.outer.find('.lg-progress-bar');\r\n            var _$progress_1 = this.core.outer.find('.lg-progress');\r\n            if (this.interval) {\r\n                _$progress_1.removeAttr('style');\r\n                _$progressBar_1.removeClass('lg-start');\r\n                setTimeout(function () {\r\n                    _$progress_1.css('transition', 'width ' +\r\n                        (_this.core.settings.speed +\r\n                            _this.settings.slideShowInterval) +\r\n                        'ms ease 0s');\r\n                    _$progressBar_1.addClass('lg-start');\r\n                }, 20);\r\n            }\r\n        }\r\n    };\r\n    // Manage autoplay via play/stop buttons\r\n    Autoplay.prototype.controls = function () {\r\n        var _this = this;\r\n        var _html = \"<button aria-label=\\\"\" + this.settings.autoplayPluginStrings['toggleAutoplay'] + \"\\\" type=\\\"button\\\" class=\\\"lg-autoplay-button lg-icon\\\"></button>\";\r\n        // Append autoplay controls\r\n        this.core.outer\r\n            .find(this.settings.appendAutoplayControlsTo)\r\n            .append(_html);\r\n        this.core.outer\r\n            .find('.lg-autoplay-button')\r\n            .first()\r\n            .on('click.lg.autoplay', function () {\r\n            if (_this.core.outer.hasClass('lg-show-autoplay')) {\r\n                _this.stopAutoPlay();\r\n            }\r\n            else {\r\n                if (!_this.interval) {\r\n                    _this.startAutoPlay();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    // Autostart gallery\r\n    Autoplay.prototype.startAutoPlay = function () {\r\n        var _this = this;\r\n        this.core.outer\r\n            .find('.lg-progress')\r\n            .css('transition', 'width ' +\r\n            (this.core.settings.speed +\r\n                this.settings.slideShowInterval) +\r\n            'ms ease 0s');\r\n        this.core.outer.addClass('lg-show-autoplay');\r\n        this.core.outer.find('.lg-progress-bar').addClass('lg-start');\r\n        this.core.LGel.trigger(lGEvents.autoplayStart, {\r\n            index: this.core.index,\r\n        });\r\n        this.interval = setInterval(function () {\r\n            if (_this.core.index + 1 < _this.core.galleryItems.length) {\r\n                _this.core.index++;\r\n            }\r\n            else {\r\n                _this.core.index = 0;\r\n            }\r\n            _this.core.LGel.trigger(lGEvents.autoplay, {\r\n                index: _this.core.index,\r\n            });\r\n            _this.fromAuto = true;\r\n            _this.core.slide(_this.core.index, false, false, 'next');\r\n        }, this.core.settings.speed + this.settings.slideShowInterval);\r\n    };\r\n    // cancel Autostart\r\n    Autoplay.prototype.stopAutoPlay = function () {\r\n        if (this.interval) {\r\n            this.core.LGel.trigger(lGEvents.autoplayStop, {\r\n                index: this.core.index,\r\n            });\r\n            this.core.outer.find('.lg-progress').removeAttr('style');\r\n            this.core.outer.removeClass('lg-show-autoplay');\r\n            this.core.outer.find('.lg-progress-bar').removeClass('lg-start');\r\n        }\r\n        clearInterval(this.interval);\r\n        this.interval = false;\r\n    };\r\n    Autoplay.prototype.closeGallery = function () {\r\n        this.stopAutoPlay();\r\n    };\r\n    Autoplay.prototype.destroy = function () {\r\n        if (this.settings.autoplay) {\r\n            this.core.outer.find('.lg-progress-bar').remove();\r\n        }\r\n        // Remove all event listeners added by autoplay plugin\r\n        this.core.LGel.off('.lg.autoplay');\r\n        this.core.LGel.off('.autoplay');\r\n    };\r\n    return Autoplay;\r\n}());\n\nexport default Autoplay;\n//# sourceMappingURL=lg-autoplay.es5.js.map\n","/*!\n * lightgallery | 2.8.2 | November 28th 2024\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar thumbnailsSettings = {\r\n    thumbnail: true,\r\n    animateThumb: true,\r\n    currentPagerPosition: 'middle',\r\n    alignThumbnails: 'middle',\r\n    thumbWidth: 100,\r\n    thumbHeight: '80px',\r\n    thumbMargin: 5,\r\n    appendThumbnailsTo: '.lg-components',\r\n    toggleThumb: false,\r\n    enableThumbDrag: true,\r\n    enableThumbSwipe: true,\r\n    thumbnailSwipeThreshold: 10,\r\n    loadYouTubeThumbnail: true,\r\n    youTubeThumbSize: 1,\r\n    thumbnailPluginStrings: {\r\n        toggleThumbnails: 'Toggle thumbnails',\r\n    },\r\n};\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n    autoplay: 'lgAutoplay',\r\n    autoplayStart: 'lgAutoplayStart',\r\n    autoplayStop: 'lgAutoplayStop',\r\n};\n\nvar Thumbnail = /** @class */ (function () {\r\n    function Thumbnail(instance, $LG) {\r\n        this.thumbOuterWidth = 0;\r\n        this.thumbTotalWidth = 0;\r\n        this.translateX = 0;\r\n        this.thumbClickable = false;\r\n        // get lightGallery core plugin instance\r\n        this.core = instance;\r\n        this.$LG = $LG;\r\n        return this;\r\n    }\r\n    Thumbnail.prototype.init = function () {\r\n        // extend module default settings with lightGallery core settings\r\n        this.settings = __assign(__assign({}, thumbnailsSettings), this.core.settings);\r\n        this.thumbOuterWidth = 0;\r\n        this.thumbTotalWidth =\r\n            this.core.galleryItems.length *\r\n                (this.settings.thumbWidth + this.settings.thumbMargin);\r\n        // Thumbnail animation value\r\n        this.translateX = 0;\r\n        this.setAnimateThumbStyles();\r\n        if (!this.core.settings.allowMediaOverlap) {\r\n            this.settings.toggleThumb = false;\r\n        }\r\n        if (this.settings.thumbnail) {\r\n            this.build();\r\n            if (this.settings.animateThumb) {\r\n                if (this.settings.enableThumbDrag) {\r\n                    this.enableThumbDrag();\r\n                }\r\n                if (this.settings.enableThumbSwipe) {\r\n                    this.enableThumbSwipe();\r\n                }\r\n                this.thumbClickable = false;\r\n            }\r\n            else {\r\n                this.thumbClickable = true;\r\n            }\r\n            this.toggleThumbBar();\r\n            this.thumbKeyPress();\r\n        }\r\n    };\r\n    Thumbnail.prototype.build = function () {\r\n        var _this = this;\r\n        this.setThumbMarkup();\r\n        this.manageActiveClassOnSlideChange();\r\n        this.$lgThumb.first().on('click.lg touchend.lg', function (e) {\r\n            var $target = _this.$LG(e.target);\r\n            if (!$target.hasAttribute('data-lg-item-id')) {\r\n                return;\r\n            }\r\n            setTimeout(function () {\r\n                // In IE9 and bellow touch does not support\r\n                // Go to slide if browser does not support css transitions\r\n                if (_this.thumbClickable && !_this.core.lgBusy) {\r\n                    var index = parseInt($target.attr('data-lg-item-id'));\r\n                    _this.core.slide(index, false, true, false);\r\n                }\r\n            }, 50);\r\n        });\r\n        this.core.LGel.on(lGEvents.beforeSlide + \".thumb\", function (event) {\r\n            var index = event.detail.index;\r\n            _this.animateThumb(index);\r\n        });\r\n        this.core.LGel.on(lGEvents.beforeOpen + \".thumb\", function () {\r\n            _this.thumbOuterWidth = _this.core.outer.get().offsetWidth;\r\n        });\r\n        this.core.LGel.on(lGEvents.updateSlides + \".thumb\", function () {\r\n            _this.rebuildThumbnails();\r\n        });\r\n        this.core.LGel.on(lGEvents.containerResize + \".thumb\", function () {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            setTimeout(function () {\r\n                _this.thumbOuterWidth = _this.core.outer.get().offsetWidth;\r\n                _this.animateThumb(_this.core.index);\r\n                _this.thumbOuterWidth = _this.core.outer.get().offsetWidth;\r\n            }, 50);\r\n        });\r\n    };\r\n    Thumbnail.prototype.setThumbMarkup = function () {\r\n        var thumbOuterClassNames = 'lg-thumb-outer ';\r\n        if (this.settings.alignThumbnails) {\r\n            thumbOuterClassNames += \"lg-thumb-align-\" + this.settings.alignThumbnails;\r\n        }\r\n        var html = \"<div class=\\\"\" + thumbOuterClassNames + \"\\\">\\n        <div class=\\\"lg-thumb lg-group\\\">\\n        </div>\\n        </div>\";\r\n        this.core.outer.addClass('lg-has-thumb');\r\n        if (this.settings.appendThumbnailsTo === '.lg-components') {\r\n            this.core.$lgComponents.append(html);\r\n        }\r\n        else {\r\n            this.core.outer.append(html);\r\n        }\r\n        this.$thumbOuter = this.core.outer.find('.lg-thumb-outer').first();\r\n        this.$lgThumb = this.core.outer.find('.lg-thumb').first();\r\n        if (this.settings.animateThumb) {\r\n            this.core.outer\r\n                .find('.lg-thumb')\r\n                .css('transition-duration', this.core.settings.speed + 'ms')\r\n                .css('width', this.thumbTotalWidth + 'px')\r\n                .css('position', 'relative');\r\n        }\r\n        this.setThumbItemHtml(this.core.galleryItems);\r\n    };\r\n    Thumbnail.prototype.enableThumbDrag = function () {\r\n        var _this = this;\r\n        var thumbDragUtils = {\r\n            cords: {\r\n                startX: 0,\r\n                endX: 0,\r\n            },\r\n            isMoved: false,\r\n            newTranslateX: 0,\r\n            startTime: new Date(),\r\n            endTime: new Date(),\r\n            touchMoveTime: 0,\r\n        };\r\n        var isDragging = false;\r\n        this.$thumbOuter.addClass('lg-grab');\r\n        this.core.outer\r\n            .find('.lg-thumb')\r\n            .first()\r\n            .on('mousedown.lg.thumb', function (e) {\r\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\r\n                // execute only on .lg-object\r\n                e.preventDefault();\r\n                thumbDragUtils.cords.startX = e.pageX;\r\n                thumbDragUtils.startTime = new Date();\r\n                _this.thumbClickable = false;\r\n                isDragging = true;\r\n                // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\r\n                _this.core.outer.get().scrollLeft += 1;\r\n                _this.core.outer.get().scrollLeft -= 1;\r\n                // *\r\n                _this.$thumbOuter\r\n                    .removeClass('lg-grab')\r\n                    .addClass('lg-grabbing');\r\n            }\r\n        });\r\n        this.$LG(window).on(\"mousemove.lg.thumb.global\" + this.core.lgId, function (e) {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            if (isDragging) {\r\n                thumbDragUtils.cords.endX = e.pageX;\r\n                thumbDragUtils = _this.onThumbTouchMove(thumbDragUtils);\r\n            }\r\n        });\r\n        this.$LG(window).on(\"mouseup.lg.thumb.global\" + this.core.lgId, function () {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            if (thumbDragUtils.isMoved) {\r\n                thumbDragUtils = _this.onThumbTouchEnd(thumbDragUtils);\r\n            }\r\n            else {\r\n                _this.thumbClickable = true;\r\n            }\r\n            if (isDragging) {\r\n                isDragging = false;\r\n                _this.$thumbOuter.removeClass('lg-grabbing').addClass('lg-grab');\r\n            }\r\n        });\r\n    };\r\n    Thumbnail.prototype.enableThumbSwipe = function () {\r\n        var _this = this;\r\n        var thumbDragUtils = {\r\n            cords: {\r\n                startX: 0,\r\n                endX: 0,\r\n            },\r\n            isMoved: false,\r\n            newTranslateX: 0,\r\n            startTime: new Date(),\r\n            endTime: new Date(),\r\n            touchMoveTime: 0,\r\n        };\r\n        this.$lgThumb.on('touchstart.lg', function (e) {\r\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\r\n                e.preventDefault();\r\n                thumbDragUtils.cords.startX = e.targetTouches[0].pageX;\r\n                _this.thumbClickable = false;\r\n                thumbDragUtils.startTime = new Date();\r\n            }\r\n        });\r\n        this.$lgThumb.on('touchmove.lg', function (e) {\r\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\r\n                e.preventDefault();\r\n                thumbDragUtils.cords.endX = e.targetTouches[0].pageX;\r\n                thumbDragUtils = _this.onThumbTouchMove(thumbDragUtils);\r\n            }\r\n        });\r\n        this.$lgThumb.on('touchend.lg', function () {\r\n            if (thumbDragUtils.isMoved) {\r\n                thumbDragUtils = _this.onThumbTouchEnd(thumbDragUtils);\r\n            }\r\n            else {\r\n                _this.thumbClickable = true;\r\n            }\r\n        });\r\n    };\r\n    // Rebuild thumbnails\r\n    Thumbnail.prototype.rebuildThumbnails = function () {\r\n        var _this = this;\r\n        // Remove transitions\r\n        this.$thumbOuter.addClass('lg-rebuilding-thumbnails');\r\n        setTimeout(function () {\r\n            _this.thumbTotalWidth =\r\n                _this.core.galleryItems.length *\r\n                    (_this.settings.thumbWidth + _this.settings.thumbMargin);\r\n            _this.$lgThumb.css('width', _this.thumbTotalWidth + 'px');\r\n            _this.$lgThumb.empty();\r\n            _this.setThumbItemHtml(_this.core.galleryItems);\r\n            _this.animateThumb(_this.core.index);\r\n        }, 50);\r\n        setTimeout(function () {\r\n            _this.$thumbOuter.removeClass('lg-rebuilding-thumbnails');\r\n        }, 200);\r\n    };\r\n    // @ts-check\r\n    Thumbnail.prototype.setTranslate = function (value) {\r\n        this.$lgThumb.css('transform', 'translate3d(-' + value + 'px, 0px, 0px)');\r\n    };\r\n    Thumbnail.prototype.getPossibleTransformX = function (left) {\r\n        if (left > this.thumbTotalWidth - this.thumbOuterWidth) {\r\n            left = this.thumbTotalWidth - this.thumbOuterWidth;\r\n        }\r\n        if (left < 0) {\r\n            left = 0;\r\n        }\r\n        return left;\r\n    };\r\n    Thumbnail.prototype.animateThumb = function (index) {\r\n        this.$lgThumb.css('transition-duration', this.core.settings.speed + 'ms');\r\n        if (this.settings.animateThumb) {\r\n            var position = 0;\r\n            switch (this.settings.currentPagerPosition) {\r\n                case 'left':\r\n                    position = 0;\r\n                    break;\r\n                case 'middle':\r\n                    position =\r\n                        this.thumbOuterWidth / 2 - this.settings.thumbWidth / 2;\r\n                    break;\r\n                case 'right':\r\n                    position = this.thumbOuterWidth - this.settings.thumbWidth;\r\n            }\r\n            this.translateX =\r\n                (this.settings.thumbWidth + this.settings.thumbMargin) * index -\r\n                    1 -\r\n                    position;\r\n            if (this.translateX > this.thumbTotalWidth - this.thumbOuterWidth) {\r\n                this.translateX = this.thumbTotalWidth - this.thumbOuterWidth;\r\n            }\r\n            if (this.translateX < 0) {\r\n                this.translateX = 0;\r\n            }\r\n            this.setTranslate(this.translateX);\r\n        }\r\n    };\r\n    Thumbnail.prototype.onThumbTouchMove = function (thumbDragUtils) {\r\n        thumbDragUtils.newTranslateX = this.translateX;\r\n        thumbDragUtils.isMoved = true;\r\n        thumbDragUtils.touchMoveTime = new Date().valueOf();\r\n        thumbDragUtils.newTranslateX -=\r\n            thumbDragUtils.cords.endX - thumbDragUtils.cords.startX;\r\n        thumbDragUtils.newTranslateX = this.getPossibleTransformX(thumbDragUtils.newTranslateX);\r\n        // move current slide\r\n        this.setTranslate(thumbDragUtils.newTranslateX);\r\n        this.$thumbOuter.addClass('lg-dragging');\r\n        return thumbDragUtils;\r\n    };\r\n    Thumbnail.prototype.onThumbTouchEnd = function (thumbDragUtils) {\r\n        thumbDragUtils.isMoved = false;\r\n        thumbDragUtils.endTime = new Date();\r\n        this.$thumbOuter.removeClass('lg-dragging');\r\n        var touchDuration = thumbDragUtils.endTime.valueOf() -\r\n            thumbDragUtils.startTime.valueOf();\r\n        var distanceXnew = thumbDragUtils.cords.endX - thumbDragUtils.cords.startX;\r\n        var speedX = Math.abs(distanceXnew) / touchDuration;\r\n        // Some magical numbers\r\n        // Can be improved\r\n        if (speedX > 0.15 &&\r\n            thumbDragUtils.endTime.valueOf() - thumbDragUtils.touchMoveTime < 30) {\r\n            speedX += 1;\r\n            if (speedX > 2) {\r\n                speedX += 1;\r\n            }\r\n            speedX =\r\n                speedX +\r\n                    speedX * (Math.abs(distanceXnew) / this.thumbOuterWidth);\r\n            this.$lgThumb.css('transition-duration', Math.min(speedX - 1, 2) + 'settings');\r\n            distanceXnew = distanceXnew * speedX;\r\n            this.translateX = this.getPossibleTransformX(this.translateX - distanceXnew);\r\n            this.setTranslate(this.translateX);\r\n        }\r\n        else {\r\n            this.translateX = thumbDragUtils.newTranslateX;\r\n        }\r\n        if (Math.abs(thumbDragUtils.cords.endX - thumbDragUtils.cords.startX) <\r\n            this.settings.thumbnailSwipeThreshold) {\r\n            this.thumbClickable = true;\r\n        }\r\n        return thumbDragUtils;\r\n    };\r\n    Thumbnail.prototype.getThumbHtml = function (thumb, index, alt) {\r\n        var slideVideoInfo = this.core.galleryItems[index].__slideVideoInfo || {};\r\n        var thumbImg;\r\n        if (slideVideoInfo.youtube) {\r\n            if (this.settings.loadYouTubeThumbnail) {\r\n                thumbImg =\r\n                    '//img.youtube.com/vi/' +\r\n                        slideVideoInfo.youtube[1] +\r\n                        '/' +\r\n                        this.settings.youTubeThumbSize +\r\n                        '.jpg';\r\n            }\r\n            else {\r\n                thumbImg = thumb;\r\n            }\r\n        }\r\n        else {\r\n            thumbImg = thumb;\r\n        }\r\n        var div = document.createElement('div');\r\n        div.setAttribute('data-lg-item-id', index + '');\r\n        div.className = \"lg-thumb-item \" + (index === this.core.index ? 'active' : '');\r\n        div.style.cssText = \"width: \" + this.settings.thumbWidth + \"px; height: \" + this.settings.thumbHeight + \"; margin-right: \" + this.settings.thumbMargin + \"px;\";\r\n        var img = document.createElement('img');\r\n        img.alt = alt || '';\r\n        img.setAttribute('data-lg-item-id', index + '');\r\n        img.src = thumbImg;\r\n        div.appendChild(img);\r\n        return div;\r\n    };\r\n    Thumbnail.prototype.setThumbItemHtml = function (items) {\r\n        for (var i = 0; i < items.length; i++) {\r\n            var thumb = this.getThumbHtml(items[i].thumb, i, items[i].alt);\r\n            this.$lgThumb.append(thumb);\r\n        }\r\n    };\r\n    Thumbnail.prototype.setAnimateThumbStyles = function () {\r\n        if (this.settings.animateThumb) {\r\n            this.core.outer.addClass('lg-animate-thumb');\r\n        }\r\n    };\r\n    // Manage thumbnail active calss\r\n    Thumbnail.prototype.manageActiveClassOnSlideChange = function () {\r\n        var _this = this;\r\n        // manage active class for thumbnail\r\n        this.core.LGel.on(lGEvents.beforeSlide + \".thumb\", function (event) {\r\n            var $thumb = _this.core.outer.find('.lg-thumb-item');\r\n            var index = event.detail.index;\r\n            $thumb.removeClass('active');\r\n            $thumb.eq(index).addClass('active');\r\n        });\r\n    };\r\n    // Toggle thumbnail bar\r\n    Thumbnail.prototype.toggleThumbBar = function () {\r\n        var _this = this;\r\n        if (this.settings.toggleThumb) {\r\n            this.core.outer.addClass('lg-can-toggle');\r\n            this.core.$toolbar.append('<button type=\"button\" aria-label=\"' +\r\n                this.settings.thumbnailPluginStrings['toggleThumbnails'] +\r\n                '\" class=\"lg-toggle-thumb lg-icon\"></button>');\r\n            this.core.outer\r\n                .find('.lg-toggle-thumb')\r\n                .first()\r\n                .on('click.lg', function () {\r\n                _this.core.outer.toggleClass('lg-components-open');\r\n            });\r\n        }\r\n    };\r\n    Thumbnail.prototype.thumbKeyPress = function () {\r\n        var _this = this;\r\n        this.$LG(window).on(\"keydown.lg.thumb.global\" + this.core.lgId, function (e) {\r\n            if (!_this.core.lgOpened || !_this.settings.toggleThumb)\r\n                return;\r\n            if (e.keyCode === 38) {\r\n                e.preventDefault();\r\n                _this.core.outer.addClass('lg-components-open');\r\n            }\r\n            else if (e.keyCode === 40) {\r\n                e.preventDefault();\r\n                _this.core.outer.removeClass('lg-components-open');\r\n            }\r\n        });\r\n    };\r\n    Thumbnail.prototype.destroy = function () {\r\n        if (this.settings.thumbnail) {\r\n            this.$LG(window).off(\".lg.thumb.global\" + this.core.lgId);\r\n            this.core.LGel.off('.lg.thumb');\r\n            this.core.LGel.off('.thumb');\r\n            this.$thumbOuter.remove();\r\n            this.core.outer.removeClass('lg-has-thumb');\r\n        }\r\n    };\r\n    return Thumbnail;\r\n}());\n\nexport default Thumbnail;\n//# sourceMappingURL=lg-thumbnail.es5.js.map\n","import lightGallery from \"lightgallery\";\nimport lgAutoplay from \"lightgallery/plugins/autoplay/lg-autoplay.es5.js\";\nimport lgThumbnail from \"lightgallery/plugins/thumbnail/lg-thumbnail.es5.js\";\n\nimport 'lightgallery/css/lightgallery.css';\nimport 'lightgallery/css/lg-autoplay.css';\nimport 'lightgallery/css/lg-thumbnail.css';\n\nfunction init() {\n    const script = document.getElementById('init-inline-galleries');\n    const galleries = document.getElementsByClassName(\"inline-gallery-container\");\n    for (let i = 0; i < galleries.length; i++) {\n        let gallery = lightGallery(galleries[i], {\n            container: galleries[i],\n            hash: false,\n            closable: false,\n            download: false, // disabled as it is not working atm with non-dynamic loading\n            showMaximizeIcon: true,\n            appendSubHtmlTo: '.lg-item',\n            slideDelay: 400,\n            speed: 500,\n            showBarsAfter: 5000,\n            hideBarsDelay: 1500,\n            plugins: [lgAutoplay, lgThumbnail],\n            slideShowAutoplay: false,\n            slideShowInterval: 6000,\n            defaultCaptionHeight: '1.5rem',\n            strings: {\n                closeGallery: script.dataset.closeGalleryL10n,\n                toggleMaximize: script.dataset.toggleMaximizeL10n,\n                previousSlide: script.dataset.previousSlideL10n,\n                nextSlide: script.dataset.nextSlideL10n,\n                download: script.dataset.downloadL10n,\n                playVideo: script.dataset.playVideoL10n,\n                mediaLoadingFailed: script.dataset.mediaLoadingFailedL10n,\n            },\n            thumbWidth: 60,\n            thumbHeight: \"40px\",\n            thumbMargin: 4,\n        });\n\n        // start / stop gallery automatically when it is visible / invisible\n        // target lg-outer instead of the container itself, as the container has 0 height\n        let target = gallery.$container.find('.lg-outer').first().selector;\n\n        let options = {\n            root: null,\n            rootMargin: \"0px\",\n            threshold: [0.0, 0.25, 0.5, 0.75, 1.0],\n        };\n\n        let callback = (entries, _) => {\n            entries.forEach((entry) => {\n                let lgOuter = entry.target;\n                let isFullyVisible = entry.intersectionRatio >= 0.99;\n                let isPlaying = lgOuter.classList.contains('lg-show-autoplay');\n                if (isFullyVisible !== isPlaying) {\n                    lgOuter.querySelector('.lg-autoplay-button').click();\n                }\n            });\n        };\n\n        let observer = new IntersectionObserver(callback, options);\n        observer.observe(target);\n\n        gallery.openGallery();\n    }\n}\n\ninit();"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","lGEvents","lightGalleryCoreSettings","mode","easing","speed","licenseKey","height","width","addClass","startClass","backdropDuration","container","startAnimationDuration","zoomFromOrigin","hideBarsDelay","showBarsAfter","slideDelay","supportLegacyBrowser","allowMediaOverlap","videoMaxSize","loadYouTubePoster","defaultCaptionHeight","ariaLabelledby","ariaDescribedby","resetScrollPosition","hideScrollbar","closable","swipeToClose","closeOnTap","showCloseIcon","showMaximizeIcon","loop","escKey","keyPress","trapFocus","controls","slideEndAnimation","hideControlOnEnd","mousewheel","getCaptionFromTitleOrAlt","appendSubHtmlTo","subHtmlSelectorRelative","preload","numberOfSlideItemsInDom","selector","selectWithin","nextHtml","prevHtml","index","iframeWidth","iframeHeight","iframeMaxWidth","iframeMaxHeight","download","counter","appendCounterTo","swipeThreshold","enableSwipe","enableDrag","dynamic","dynamicEl","extraProps","exThumbImage","isMobile","undefined","mobileSettings","plugins","strings","closeGallery","toggleMaximize","previousSlide","nextSlide","playVideo","mediaLoadingFailed","lgQuery","cssVenderPrefixes","_getSelector","firstElement","_getFirstEl","generateUUID","replace","c","r","Math","random","toString","context","document","substring","querySelector","querySelectorAll","_each","func","forEach","_setCssVendorPrefix","el","cssProperty","value","property","group1","toUpperCase","indexOf","style","charAt","toLowerCase","slice","isEventMatched","event","eventName","eventNamespace","split","filter","e","every","attr","getAttribute","setAttribute","find","$LG","first","eq","parent","parentElement","get","removeAttr","attributes","attrs","removeAttribute","wrap","className","wrapper","createElement","parentNode","insertBefore","removeChild","appendChild","classNames","classList","add","removeClass","remove","hasClass","contains","hasAttribute","attribute","toggleClass","css","_this","on","events","listener","Array","isArray","eventListeners","push","addEventListener","once","off","keys","removeEventListener","trigger","detail","customEvent","CustomEvent","dispatchEvent","load","url","fetch","then","res","text","html","innerHTML","append","insertAdjacentHTML","prepend","HTMLElement","cloneNode","firstChild","empty","scrollTop","body","documentElement","window","pageYOffset","scrollLeft","pageXOffset","offset","left","top","rect","getBoundingClientRect","bodyMarginLeft","marginLeft","parseFloat","currentStyle","getComputedStyle","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","params","bubbles","cancelable","evt","createEvent","initCustomEvent","Element","matches","msMatchesSelector","webkitMatchesSelector","defaultDynamicOptions","convertToData","g","utils","element","insertMethod","response","htmlContent","contentDiv","spacing","defaultLgSize","lgSize","isResponsiveSizes","wWidth","innerWidth","size_1","parseInt","size","cWidth","cHeight","maxWidth","min","maxHeight","ratio","bottom","imageSize","LGel","containerRect","wHeight","elWidth","elHeight","elStyle","x","borderLeft","y","borderTop","src","iframeTitle","altAttr","srcset","sizes","sources","imgMarkup","sourceTag","JSON","parse","map","source","key","srcItms","rsWidth","rsSrc","_src","splice","j","img","complete","naturalWidth","_poster","dummyImg","videoContStyle","playVideoString","_isVideo","videoClass","youtube","vimeo","_dummy","outerHTML","elements","display","visibility","items","dynamicElements","availableDynamicOptions","il","k","a","jl","__spreadArrays","item","specified","dynamicAttr","name","label","currentItem","alt","title","thumb","subHtml","test","navigator","userAgent","isHTML5VIdeo","html5","match","wistia","lgId","LightGallery","options","lgOpened","lGalleryOn","lgBusy","currentItemsInDom","prevScrollTop","bodyPaddingRight","isDummyImageRemoved","dragOrSwipeEnabled","mediaContainerPosition","generateSettings","buildModules","settings","galleryItems","getItems","normalizeSettings","init","validateLicense","addSlideVideoInfo","buildStructure","instance","setTimeout","triggerPosterClick","arrow","openGalleryOnItemClick","_loop_1","this_1","$element","uuid","preventDefault","currentItemIndex","openGallery","plugin","getSlideItem","getSlideItemId","getIdName","id","getElementById","manageSingleSlideClassName","outer","$container","subHtmlCont","addClasses","containerClassName","closeIcon","maximizeIcon","template","$lgComponents","$backdrop","$inner","$content","$toolbar","outerClassNames","refreshOnResize","hideBars","manageCloseGallery","initModules","__slideVideoInfo","getMediaContainerPosition","_a","top_1","currentImageSize","resizeVideoSlide","imgStyle","getDummyImgStyles","lgVideoStyle","getVideoContStyle","updateSlides","currentSrc","updateControls","_index","some","galleryItem","itemIndex","organizeSlideItems","loadContent","updateCurrentCounter","children","shouldHideScrollbar","bodyRect","scrollbarWidth","resetScrollBar","itemsToBeInsertedToDom","getItemsToBeInsertedToDom","addHtml","transform","setMediaContainerPosition","timeout","currentSlide_1","slide","captionHeight","thumbContainer","clearTimeout","hideBarTimeout","initPictureFill","$img","picturefill","counterHtml","subHtmlUrl","fL","currentSlide","getDummyImageContent","$currentSlide","$currentItem","_dummyImgSrc","dummyImgContentImg","cssText","setImgMarkup","currentGalleryItem","imgContent","isFirstSlideWithZoomAnimation","picture","onSlideObjectLoad","$slide","isHTML5VideoWithoutPoster","onLoad","onError","mediaObject","onLgObjectLoad","delay","isFirstSlide","triggerSlideItemLoad","_speed","getSlideType","poster","video","rec","_html5Video","responsive","srcDyItms","videoInfo","iframe","top_2","videoSize","markup","html5Video","hasPoster","loadContentOnFirstSlideLoad","prevIndex","numberOfItems","possibleNumberOfItems","max","prevIndexItem","_element","idx","numberOfExistingItems","getPreviousSlideIndex","currentItemId","error","setDownloadValue","downloadUrl","$download","makeSlideAnimation","direction","currentSlideItem","previousSlideItem","fromTouch","fromThumb","numberOfGalleryItems","previousSlideItem_1","top_3","arrowDisable","touchPrev","touchNext","updateCounterTotal","touchMove","startCoords","endCoords","distanceX","pageX","distanceY","pageY","allowSwipe","swipeDirection","abs","setTranslate","offsetWidth","gutter","opacity","innerHeight","scale","touchEnd","distance","triggerClick","distanceAbs","goToNextSlide","goToPrevSlide","target","isPosterElement","isMoved","isSwiping","$item","touches","touchAction","manageSwipeClass","isDraging","_touchNext","_touchPrev","_loop","keyCode","$prev","$next","$el","xValue","yValue","scaleX","scaleY","lastCall","deltaY","now","Date","getTime","isSlideElement","playButton","invalidateItems","focus","preventScroll","focusableEls","firstFocusableEl","lastFocusableEl","shiftKey","activeElement","mousedown","force","top_4","_b","destroyModules","removeTimeout","blur","module","err","destroy","refresh","destroyGallery","closeTimeout","bind","autoplaySettings","autoplay","slideShowAutoplay","slideShowInterval","progressBar","forceSlideShowAutoplay","autoplayControls","appendAutoplayControlsTo","autoplayPluginStrings","toggleAutoplay","Autoplay","core","interval","fromAuto","pausedOnTouchDrag","pausedOnSlideChange","startAutoPlay","stopAutoPlay","showProgressBar","_$progressBar_1","_$progress_1","_html","setInterval","clearInterval","thumbnailsSettings","thumbnail","animateThumb","currentPagerPosition","alignThumbnails","thumbWidth","thumbHeight","thumbMargin","appendThumbnailsTo","toggleThumb","enableThumbDrag","enableThumbSwipe","thumbnailSwipeThreshold","loadYouTubeThumbnail","youTubeThumbSize","thumbnailPluginStrings","toggleThumbnails","Thumbnail","thumbOuterWidth","thumbTotalWidth","translateX","thumbClickable","setAnimateThumbStyles","build","toggleThumbBar","thumbKeyPress","setThumbMarkup","manageActiveClassOnSlideChange","$lgThumb","$target","rebuildThumbnails","thumbOuterClassNames","$thumbOuter","setThumbItemHtml","thumbDragUtils","cords","startX","endX","newTranslateX","startTime","endTime","touchMoveTime","isDragging","onThumbTouchMove","onThumbTouchEnd","targetTouches","getPossibleTransformX","position","valueOf","touchDuration","distanceXnew","speedX","getThumbHtml","thumbImg","slideVideoInfo","div","$thumb","script","galleries","getElementsByClassName","gallery","hash","dataset","closeGalleryL10n","toggleMaximizeL10n","previousSlideL10n","nextSlideL10n","downloadL10n","playVideoL10n","mediaLoadingFailedL10n","IntersectionObserver","entries","_","entry","lgOuter","intersectionRatio","click","root","rootMargin","threshold","observe"],"sourceRoot":""}